import{_ as r,C as E,c as p,o as e,a2 as n,b as t,j as c,w as a,a as l,G as s,a3 as d}from"./chunks/framework.CriqKoQt.js";const f=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/work/122.ai-all-asset-article.md","filePath":"docs/work/122.ai-all-asset-article.md","lastUpdated":1768157995000}'),h={name:"docs/work/122.ai-all-asset-article.md"};function A(m,i,g,_,k,B){const o=E("Mermaid");return e(),p("div",null,[i[6]||(i[6]=n('<h2 id="_1-位图" tabindex="-1">1. 位图 <a class="header-anchor" href="#_1-位图" aria-label="Permalink to &quot;1. 位图&quot;">​</a></h2><h3 id="_1-1-问题" tabindex="-1">1.1. 问题 <a class="header-anchor" href="#_1-1-问题" aria-label="Permalink to &quot;1.1. 问题&quot;">​</a></h3><blockquote><p>痛点1：手动在视觉设计稿中切图（用作项目静态图片或动态图片）——&gt; 手动上传到 cos git 仓库、触发流水线上传到业务 cos 桶或手动直接上传到业务 cos 桶</p><p>痛点2：部分没接入 cos git 的业务，手动直达上传到业务cos桶，仍然需要肉眼检查图片是否重命名(不检测的话，覆盖线上资源会导致业务事故)</p></blockquote><h3 id="_1-2-优化" tabindex="-1">1.2. 优化 <a class="header-anchor" href="#_1-2-优化" aria-label="Permalink to &quot;1.2. 优化&quot;">​</a></h3><ol><li>提供 <code>upload-mcp</code> 工具，IDE 中一键上传</li><li>自动压缩图片</li><li>自动同步 <code>cos.git</code> 仓库，方便后续修改</li></ol><p>已有</p><ol><li>通过 <code>cos.git</code> 上传</li><li>通过在线工具上传</li></ol><p><code>mcp</code> 上传流程</p>',8)),(e(),t(d,null,{default:a(()=>[s(o,{id:"mermaid-52",class:"mermaid my-mermaid-class",graph:"graph%20LR%0Amcp%20--%20tinypng%20--%3E%20compressed%0Acompressed%20--upload--%3E%20cos%0Acos%20--%E5%9B%9E%E5%86%99--%3E%20git%0A"})]),fallback:a(()=>i[0]||(i[0]=[l(" Loading... ")])),_:1})),i[7]||(i[7]=c("p",null,"修改时",-1)),(e(),t(d,null,{default:a(()=>[s(o,{id:"mermaid-56",class:"mermaid my-mermaid-class",graph:"graph%20LR%0Agit%20--%E6%8F%90%E4%BA%A4--%3E%20cos%0A"})]),fallback:a(()=>i[1]||(i[1]=[l(" Loading... ")])),_:1})),i[8]||(i[8]=n(`<p>注意，由于 COS 的 <code>open api</code> 限制一个前缀目录下只能拉取 1000 个文件，所以建议一个目录不要放太多东西。</p><p>在 <code>cos.git</code> 的 <code>.cos/sync.config.js</code> 文件中存放要拉取的前缀列表，如</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  getBucketLitPrefixList: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;image-1251917893&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;general-match/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;pmd-icon/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><img src="https://mike-1255355338.cos.ap-guangzhou.myqcloud.com/article/2025/12/own_mike_cff2GHnzYhyipk6A.gif" width="400"><h3 id="_1-3-三位一体" tabindex="-1">1.3. 三位一体 <a class="header-anchor" href="#_1-3-三位一体" aria-label="Permalink to &quot;1.3. 三位一体&quot;">​</a></h3>`,5)),(e(),t(d,null,{default:a(()=>[s(o,{id:"mermaid-68",class:"mermaid my-mermaid-class",graph:"graph%20TD%0A%0A%E5%9C%A8%E7%BA%BF%E7%BD%91%E7%AB%99%20--%3E%20COS%0Acos.git%20--%3E%20COS%0AMCP%20--%3E%20COS%0A"})]),fallback:a(()=>i[2]||(i[2]=[l(" Loading... ")])),_:1})),i[9]||(i[9]=n('<p>想用啥就用啥，喜欢用啥就用啥。</p><h2 id="_2-iconfont-图标" tabindex="-1">2. iconfont 图标 <a class="header-anchor" href="#_2-iconfont-图标" aria-label="Permalink to &quot;2. iconfont 图标&quot;">​</a></h2><h3 id="_2-1-问题" tabindex="-1">2.1. 问题 <a class="header-anchor" href="#_2-1-问题" aria-label="Permalink to &quot;2.1. 问题&quot;">​</a></h3><blockquote><p>痛点1：手动下载svg ——&gt; 手动上传到 cosdesign</p><p>痛点2：每次更新需肉眼检测图标是否重名，耗时耗力</p><p>痛点3：目前发现部分SVG文件上传至 codesign 后，会出现内容丢失或显示异常的问题。视觉同学通常无法定位具体原因，只能通过反复试错的方式将文件交由我们排查，这会占用我们不少时间（比如此前 x 项目中，遇到过不少图标出现此类问题，可能会花费时间协助检查和调整图标）。为了提升效率，期待提供一个 SVG 预览页面：视觉同学上传 SVG 文件后，页面可直接渲染展示效果，让他们能自主试错、调整图标并定位问题根源，减少对开发侧的依赖。</p></blockquote><h3 id="_2-2-优化" tabindex="-1">2.2. 优化 <a class="header-anchor" href="#_2-2-优化" aria-label="Permalink to &quot;2.2. 优化&quot;">​</a></h3><ol><li>支持自动下载 <code>figma</code> 中 <code>svg</code>，生成 <code>iconfont</code> 等</li><li>支持在线工具预览、下载</li></ol><blockquote><p>核心：全自动化、流程左移、安全</p></blockquote><p>注意，这里是没有 MCP 的，<strong>全自动化比 AI 更进一步</strong>，只要源头数据是正确的，根本无需任何操作。</p>',8)),(e(),t(d,null,{default:a(()=>[s(o,{id:"mermaid-112",class:"mermaid my-mermaid-class",graph:"graph%20TD%0Afigma%20--%E8%87%AA%E5%8A%A8%E4%B8%8B%E8%BD%BD%20svg--%3E%20git%0Agit%20--%3E%20json%5B%22json%22%5D%0Agit%20--%3E%20iconfont%5B%22iconfont%20%E5%AD%97%E4%BD%93%22%5D%0Aiconfont%20--%3E%20cdn%0Agit%20--%3E%20css%0A%0Agit%20--%3E%20js%0Acss%20--%3E%20cdn%0Ajs%20--%3E%20cdn%0Ajson%20--%3E%20cdn%0Acdn%20--%3E%20%E5%9C%A8%E7%BA%BF%E7%BD%91%E7%AB%99%0A%0Agit%20--%3E%20demo%0A%0Ademo%20----%3E%20%E5%9C%A8%E7%BA%BF%E7%BD%91%E7%AB%99%0A%0A%0A%E5%9C%A8%E7%BA%BF%E7%BD%91%E7%AB%99%20--%3E%20%E9%A2%84%E8%A7%88%0A%E5%9C%A8%E7%BA%BF%E7%BD%91%E7%AB%99%20--%3E%20%E5%A4%8D%E5%88%B6%0A%E5%9C%A8%E7%BA%BF%E7%BD%91%E7%AB%99%20--%3E%20%E4%B8%8B%E8%BD%BD%0A%E5%9C%A8%E7%BA%BF%E7%BD%91%E7%AB%99%20--%3E%20%E6%90%9C%E7%B4%A2%0A"})]),fallback:a(()=>i[3]||(i[3]=[l(" Loading... ")])),_:1})),i[10]||(i[10]=c("p",null,"操作节点",-1)),(e(),t(d,null,{default:a(()=>[s(o,{id:"mermaid-116",class:"mermaid my-mermaid-class",graph:"graph%20LR%0A%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%20--%E7%A0%94%E5%8F%91%E5%B9%B3%E5%8F%B0--%3E%20%E5%88%9D%E5%A7%8B%E5%8C%96%2F%E6%9B%B4%E6%96%B0%20--%22figma%20to%20svg%22--%3E%20%E5%AE%A1%E6%A0%B8%20--%22svg%20to%20iconfont%22--%3E%20%20%E5%AE%A1%E6%A0%B8%2F%E6%9F%A5%E7%9C%8B%20--%E5%8F%91%E5%B8%83--%3E%20%E9%AA%8C%E8%AF%81%0A"})]),fallback:a(()=>i[4]||(i[4]=[l(" Loading... ")])),_:1})),i[11]||(i[11]=n('<p>涉及内容较多</p><ol><li><code>figma</code> 中 <code>svg</code> 下载</li><li><code>git</code> 存储</li><li><code>svg</code> 生成 <code>iconfont</code> 字体、CSS</li><li>上传 CSS/字体 到 <code>cos</code></li><li>网站拉取</li><li><code>cos</code> 同步到 <code>git</code></li></ol><p>还有工程方面的：</p><ol><li>图标工程创建</li><li>图标工程管理</li><li>手动触发更新</li><li>更新时发MR及审核</li></ol><p><code>icon.git</code> 功能</p><ol><li>执行 <code>svg</code> 手动更新，创建 MR 到 <code>master</code></li><li>执行 <code>iconfont</code> 生成，创建 MR，从 <code>master</code> 到 <code>release</code></li><li>执行上传 CDN，<code>release</code> 分支上进行</li></ol><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_2ihjhANPJs27EXb7.png" width="700"><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_PaKZwKMfjHHtrrij.png" width="700"><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_riaKAiK8ypCAZSG4.png" width="700"><h3 id="_2-3-faq" tabindex="-1">2.3. FAQ <a class="header-anchor" href="#_2-3-faq" aria-label="Permalink to &quot;2.3. FAQ&quot;">​</a></h3><ol><li>类名会不会重复</li></ol><p>基于流程整体左移的思路，由设计师保证不重复，由于在一张画布或一个 <code>figma</code> 文件中，能较轻松找到哪个重复。</p><p>对于语义确实重复的，可以添加 <code>-1</code>、<code>-2</code> 等标识，比如 <code>edit-1</code>、<code>edit-2</code>。</p><ol start="2"><li>图标黑框</li></ol><p>检查是不是设置了 <code>clip content</code>，需要去掉。</p><ol start="3"><li>上传到 <code>devcloud</code> 失败</li></ol><p><s>新增的项目可能需要登录 <code>devcloud</code> 手动新增一个目录。</s> 已使用流水线解决。</p><ol start="4"><li>有没有刷新 CDN 缓存</li></ol><p>有。</p><p>上传的所有文件，包括位图、图标、字体、其他文件等，使用的所有方式，包括在线网站、MCP、<code>cos.git</code> 等，都会进行 CDN 缓存刷新！</p><h2 id="_3-字体" tabindex="-1">3. 字体 <a class="header-anchor" href="#_3-字体" aria-label="Permalink to &quot;3. 字体&quot;">​</a></h2><h3 id="_3-1-问题" tabindex="-1">3.1. 问题 <a class="header-anchor" href="#_3-1-问题" aria-label="Permalink to &quot;3.1. 问题&quot;">​</a></h3><blockquote><p>痛点：手动处理(需使用font-spider进行特殊字体压缩，然后利用其他工具进行字体多格式转换)设计师给到的全量字体包，对字体进行精简——&gt; 上传到字体资源存储仓库，用作记录存储—— &gt; 手动上传到业务cos桶</p></blockquote><h3 id="_3-2-优化" tabindex="-1">3.2. 优化 <a class="header-anchor" href="#_3-2-优化" aria-label="Permalink to &quot;3.2. 优化&quot;">​</a></h3><p>用户上传全量字体包 ——&gt; 输入对应文字 ——&gt; 一键压缩 ——&gt; 上传到 cos，并返回对应字体在线链接。</p><p>操作节点</p>',26)),(e(),t(d,null,{default:a(()=>[s(o,{id:"mermaid-269",class:"mermaid my-mermaid-class",graph:"graph%20LR%0A%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE%20--%E7%A0%94%E5%8F%91%E5%B9%B3%E5%8F%B0--%3E%20%E5%88%9D%E5%A7%8B%E5%8C%96%2F%E6%9B%B4%E6%96%B0%20--fontmin--%3E%20%E5%AD%97%E4%BD%93%E5%8E%8B%E7%BC%A9%20--%E4%B8%8A%E4%BC%A0--%3E%20%E9%AA%8C%E8%AF%81%0A"})]),fallback:a(()=>i[5]||(i[5]=[l(" Loading... ")])),_:1})),i[12]||(i[12]=n('<p>无需手动多工具来回跳转，全部闭环操作。</p><p>几个核心点</p><ol><li>加载字体文件到 <code>document</code></li><li>为校验文字设置上传的字体</li></ol><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_CfxW3jKx8xcpXQmj.png" width="700"><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_DhRPzACsSYeSJQZE.png" width="700"><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_jysFRkpKBjyCh6Nb.png" width="700"><h3 id="_3-3-图标和字体的不同" tabindex="-1">3.3. 图标和字体的不同 <a class="header-anchor" href="#_3-3-图标和字体的不同" aria-label="Permalink to &quot;3.3. 图标和字体的不同&quot;">​</a></h3><p>对比一下图标和字体设计上的不同</p><ol><li>图标由设计师在最上游处理好，重构、前端无需介入，全自动化，只需手动触发更新、审核即可</li><li>字体需由重构或前端手动上传精简后的文字，这一步暂时无法取消。相应的，字体也不再需要两次审核，因为手动压缩的页面处已经相当于审核了，只要最终同步到 COS 后的校验即可</li><li>图标项目需要有自己的 <code>git</code> 仓库，来保存无需上传到 COS 的 <code>svg</code> 文件等，而字体项目不需要，它没有中间文件，所有的字体文件都需要上传 COS，所以它不用新建仓库</li><li>图标项目需要有自己的蓝盾流水线，用于执行拉取 SVG、生成 <code>iconfont</code>、创建 MR等，字体项目不需要</li></ol><table tabindex="0"><thead><tr><th>类别</th><th>图标</th><th>字体</th></tr></thead><tbody><tr><td>手动处理</td><td>无</td><td>有</td></tr><tr><td>多次审核</td><td>有</td><td>无</td></tr><tr><td>Git 仓库</td><td>有</td><td>无</td></tr><tr><td>流水线</td><td>有</td><td>无</td></tr></tbody></table>',10))])}const C=r(h,[["render",A]]);export{f as __pageData,C as default};
