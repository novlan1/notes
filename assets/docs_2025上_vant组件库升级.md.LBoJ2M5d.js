import{_ as a,c as i,o as e,ag as t}from"./chunks/framework.6d7lLjym.js";const r=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/2025上/vant组件库升级.md","filePath":"docs/2025上/vant组件库升级.md","lastUpdated":1746350011000}'),n={name:"docs/2025上/vant组件库升级.md"};function l(p,s,h,o,d,c){return e(),i("div",null,s[0]||(s[0]=[t(`<h2 id="_1-开始" tabindex="-1">1. 开始 <a class="header-anchor" href="#_1-开始" aria-label="Permalink to &quot;1. 开始&quot;">​</a></h2><p>一些项目需要从 <code>vant@2</code> 升级到 <code>vant@4</code>，记录下差异。</p><h2 id="_2-picker" tabindex="-1">2. picker <a class="header-anchor" href="#_2-picker" aria-label="Permalink to &quot;2. picker&quot;">​</a></h2><p>回调参数更新：</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">onConfirm(v) {</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-  console.log(v.key);</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">+  console.log(v.selectedOptions[0].key);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>columns 默认数据结构：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  text</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}&gt;</span></span></code></pre></div><p>如需更改，需传入 <code>columns-field-names</code>，如</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:columns</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">names</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{ text: &#39;text&#39;, value: &#39;key&#39;, children: &#39;children&#39; }&quot;</span></span></code></pre></div><h2 id="_3-popup" tabindex="-1">3. popup <a class="header-anchor" href="#_3-popup" aria-label="Permalink to &quot;3. popup&quot;">​</a></h2><p>是否展示由 <code>v-model</code> 改为 <code>v-model:show</code></p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;van popup</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-  v-model=&quot;show&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">+  v-model:show=&quot;show&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/van-popup&gt;</span></span></code></pre></div><h2 id="_4-toast" tabindex="-1">4. toast <a class="header-anchor" href="#_4-toast" aria-label="Permalink to &quot;4. toast&quot;">​</a></h2><p>函数式调用的需要手动引入样式，无法通过 <code>auto-import</code> 自动引入。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vant/lib/toast/index.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="_5-dialog" tabindex="-1">5. dialog <a class="header-anchor" href="#_5-dialog" aria-label="Permalink to &quot;5. dialog&quot;">​</a></h2><p>是否展示由 <code>v-model</code> 改为 <code>v-model:show</code></p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;van-dialog</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-  v-model=&quot;show&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">+  v-model:show=&quot;show&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/van-dialog&gt;</span></span></code></pre></div><h2 id="_6-action-sheet" tabindex="-1">6. action-sheet <a class="header-anchor" href="#_6-action-sheet" aria-label="Permalink to &quot;6. action-sheet&quot;">​</a></h2><p>是否展示由 <code>v-model</code> 改为 <code>v-model:show</code></p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;van-action-sheet</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-  v-model=&quot;show&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">+  v-model:show=&quot;show&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/van-action-sheet&gt;</span></span></code></pre></div><h2 id="_7-tabs" tabindex="-1">7. tabs <a class="header-anchor" href="#_7-tabs" aria-label="Permalink to &quot;7. tabs&quot;">​</a></h2><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;van-tabs</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-  v-model=&quot;curTab&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">+  v-model:active=&quot;curTab&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/van-tabs&gt;</span></span></code></pre></div><h2 id="_8-其他" tabindex="-1">8. 其他 <a class="header-anchor" href="#_8-其他" aria-label="Permalink to &quot;8. 其他&quot;">​</a></h2><h3 id="_8-1-native-修饰符被废弃" tabindex="-1">8.1. <code>.native</code> 修饰符被废弃 <a class="header-anchor" href="#_8-1-native-修饰符被废弃" aria-label="Permalink to &quot;8.1. \`.native\` 修饰符被废弃&quot;">​</a></h3><p>Vue 3 中，<code>.native</code> 修饰符已被废弃，以下是关键区别和迁移建议：</p><ul><li>​​Vue 2​​：<code>.native</code> 用于监听组件根元素的原生事件（如 <code>@click.native</code>），因为自定义组件的 <code>v-on</code> 默认只能监听子组件通过 <code>$emit</code> 触发的事件。 ​- ​Vue 3​​：移除了 <code>.native</code>，改为通过 <code>emits</code> 选项显式声明组件事件。未在 <code>emits</code> 中定义的事件会被视为原生事件，自动绑定到根元素。</li></ul>`,27)]))}const g=a(n,[["render",l]]);export{r as __pageData,g as default};
