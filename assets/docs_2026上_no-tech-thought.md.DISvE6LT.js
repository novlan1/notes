import{_ as d,C as r,c as E,o as t,a2 as k,b as p,j as h,w as i,a,G as e,a3 as l}from"./chunks/framework.CriqKoQt.js";const B=JSON.parse('{"title":"packages/cherry-markdown/src/core 目录详解","description":"","frontmatter":{},"headers":[],"relativePath":"docs/2026上/no-tech-thought.md","filePath":"docs/2026上/no-tech-thought.md","lastUpdated":1770691388000}'),o={name:"docs/2026上/no-tech-thought.md"};function g(c,s,y,F,A,u){const n=r("Mermaid");return t(),E("div",null,[s[13]||(s[13]=k('<img src="https://cdn.uwayfly.com/article/2026/2/own_mike_aTBrcpbfNyhhQChE.png" width="800"><img src="https://cdn.uwayfly.com/article/2026/2/own_mike_3sK8JhtJ6dtK6ehw.png" width="800"><p>-- 2026-02-10 10:43:08 <br></p><ul><li>认知上的误区：只要我努力工作，就一定会升职</li><li>知识上的盲点：曝光很重要，但是不知道该怎么做</li><li>心理上的门槛：和人交往就是搞关系，和领导接触就是溜须拍马，不屑去做</li></ul><p>-- 2026-02-10 10:35:25 <br></p><p>泼妇是一种生存手段，有时是唯一的一种。</p><p>-- 2026-02-09 13:32:53 <br></p><p>拖延的本质，不是“做”的不够，是“想”的不够。不一定是想的不够多，而是想的不够具体、明确、透彻，没抓住本质，或者是没在做中想、想中做。</p><p>-- 2026-02-09 08:15:00 <br></p><ul><li><p>模型训练过程就是不断前向传播、损失计算、反向传播、参数更新的过程。</p></li><li><p>模型推理就是根据训练好的参数，进行前向传播的过程。</p></li></ul><p>-- 2026-02-09 08:07:59 <br></p><p>pnpm create uni 本质上是 pnpm exec create-uni 的简写，npm/pnpm/yarn 都遵循一个通用约定：</p><p><code>[包管理器] create &lt;name&gt; ≈ [包管理器] exec create-&lt;name&gt;</code></p><p>也就是说，当你执行 pnpm create uni 时，包管理器会自动：</p><ol><li>检查本地是否有 create-uni 包，没有则临时安装</li><li>执行 create-uni 包中的可执行脚本（一般在 package.json 的 bin 字段定义）</li><li>脚本执行脚手架的核心逻辑（拉取模板、初始化项目、交互配置等）</li></ol><p>-- 2026-02-08 21:20:19 <br></p><p>预期管理的思考。急踩刹车时，司机和乘客，一个有预期，一个没有，有预期的就能很好应对。年终奖，你本来想着10块，给你 100块你就非常高兴，如果反过来，你就非常失落，绩效也一样，婚姻里也一样，子女教育也一样。</p><p>-- 2026-02-07 17:32:23 <br></p><p>支持向量机（Support Vector Machine，简称 SVM）是一种强大的分类算法，在数据科学和机器学习领域广泛应用。SVM 的核心思想是，找到一个最优的决策边界，或者称为“超平面”，这个边界能够以最大的间隔将不同类别的数据分开。这里有几个关键点需要好好理解一下。</p><p>超平面：在二维空间中，这个边界就是一条线；在三维空间中，是一个平面；而在更高维度的空间中，我们称之为“超平面”。这个超平面的任务就是尽可能准确地分隔开不同类别的数据点。 最大间隔：SVM 不仅仅寻找一个能够将数据分类的边界，它寻找的是能够以最大间隔分开数据的边界。这个间隔是指不同类别的数据点到这个边界的最近距离，SVM 试图使这个距离尽可能大。直观上，这样的边界更能抵抗数据中的小变动，提高模型的泛化能力。 支持向量：决定这个最优超平面位置的几个关键数据点被称为支持向量。它们是最靠近决策边界的点，实际上这个最大间隔的边界就是通过这些点来确定的。 核技巧：当数据不是线性可分时，也就是说无法通过一个直线或平面来分隔，SVM 可以利用所谓的核技巧将数据映射到一个更高维的空间，在这个空间中数据可能是线性可分的。这使得 SVM 在处理非线性数据时非常强大。</p><p>简单来说，你可以将 SVM 想象成一个尽可能在不同类别间画一条粗的、清晰的界线，而这条界线是由距离它最近的几个点（支持向量）决定的。这种方法使得分类决策不仅仅依赖于数据的分布，而且具有很好的泛化能力，能够应对未见过的新数据。</p><p>-- 2026-02-06 13:28:36 <br></p><p>SVM 的核心思想是，找到一个最优的决策边界，或者称为“超平面”，这个边界能够以最大的间隔将不同类别的数据分开。</p><p>-- 2026-02-06 13:27:40 <br></p><img src="https://cdn.uwayfly.com/article/2026/2/own_mike_b3pBwZn4MpyGN85H.png" width="800"><p>活动报名模板</p><p>-- 2026-02-06 02:22:47 <br></p><img src="https://cdn.uwayfly.com/article/2026/2/own_mike_ccszGQCbrFP7h4dB.png" width="800"><p>社区内容模板、零售电商模板、组件库模板</p><p>-- 2026-02-06 02:18:32 <br></p><p>有人的地方就有背叛</p><p>-- 2026-02-05 21:24:07 <br></p><p>好的，这是将消息流程图转换为 Mermaid 格式：</p>',33)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-128",class:"mermaid my-mermaid-class",graph:"sequenceDiagram%0A%20%20%20%20participant%20Mock%20as%20Mock%20WebSocket%0A%20%20%20%20participant%20App%20as%20App.vue%0A%20%20%20%20participant%20Message%20as%20message%2Findex.vue%0A%20%20%20%20participant%20Chat%20as%20chat%2Findex.vue%0A%0A%20%20%20%20Mock-%3E%3EApp%3A%201.%20%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF%0A%20%20%20%20Note%20over%20App%3A%20socket.onMessage%20%E6%8E%A5%E6%94%B6%3Cbr%2F%3E%EF%BC%88%E5%94%AF%E4%B8%80%E7%9A%84%20onMessage%20%E5%9B%9E%E8%B0%83%EF%BC%89%0A%20%20%20%20App-%3E%3EApp%3A%20%E8%A7%A3%E6%9E%90%E6%B6%88%E6%81%AF%0A%20%20%20%20App-%3E%3EApp%3A%20%E6%9B%B4%E6%96%B0%E6%9C%AA%E8%AF%BB%E8%AE%A1%E6%95%B0%0A%20%20%20%20App-%3E%3EMessage%3A%202.%20uni.%24emit('onChatMessage'%2C%20%7B%20userId%2C%20message%20%7D)%0A%20%20%20%20App-%3E%3EChat%3A%202.%20uni.%24emit('onChatMessage'%2C%20%7B%20userId%2C%20message%20%7D)%0A%20%20%20%20Note%20over%20Message%3A%20uni.%24on('onChatMessage')%3Cbr%2F%3E%E6%9B%B4%E6%96%B0%E6%B6%88%E6%81%AF%E5%88%97%E8%A1%A8%0A%20%20%20%20Note%20over%20Chat%3A%20uni.%24on('onChatMessage')%3Cbr%2F%3E%E6%9B%B4%E6%96%B0%E8%81%8A%E5%A4%A9%E7%95%8C%E9%9D%A2%E3%80%81loading%20%E7%8A%B6%E6%80%81%0A"})]),fallback:i(()=>s[0]||(s[0]=[a(" Loading... ")])),_:1})),s[14]||(s[14]=h("p",null,"或者使用流程图格式：",-1)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-132",class:"mermaid my-mermaid-class",graph:"flowchart%20TD%0A%20%20%20%20A%5B%221.%20Mock%20WebSocket%20%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF%22%5D%20--%3E%20B%5B%222.%20App.vue%20socket.onMessage%20%E6%8E%A5%E6%94%B6%3Cbr%2F%3E%EF%BC%88%E5%94%AF%E4%B8%80%E7%9A%84%20onMessage%20%E5%9B%9E%E8%B0%83%EF%BC%89%22%5D%0A%20%20%20%20B%20--%3E%20B1%5B%22%E8%A7%A3%E6%9E%90%E6%B6%88%E6%81%AF%22%5D%0A%20%20%20%20B1%20--%3E%20B2%5B%22uni.%24emit('onChatMessage'%2C%20%7B%20userId%2C%20message%20%7D)%22%5D%0A%20%20%20%20B2%20--%3E%20B3%5B%22%E6%9B%B4%E6%96%B0%E6%9C%AA%E8%AF%BB%E8%AE%A1%E6%95%B0%22%5D%0A%20%20%20%20B3%20--%3E%20C%5B%223.%20%E5%90%84%E9%A1%B5%E9%9D%A2%E9%80%9A%E8%BF%87%20uni.%24on('onChatMessage')%20%E6%8E%A5%E6%94%B6%E6%B6%88%E6%81%AF%22%5D%0A%20%20%20%20C%20--%3E%20D%5B%22message%2Findex.vue%3Cbr%2F%3E%E6%9B%B4%E6%96%B0%E6%B6%88%E6%81%AF%E5%88%97%E8%A1%A8%22%5D%0A%20%20%20%20C%20--%3E%20E%5B%22chat%2Findex.vue%3Cbr%2F%3E%E6%9B%B4%E6%96%B0%E8%81%8A%E5%A4%A9%E7%95%8C%E9%9D%A2%E3%80%81loading%20%E7%8A%B6%E6%80%81%22%5D%0A"})]),fallback:i(()=>s[1]||(s[1]=[a(" Loading... ")])),_:1})),s[15]||(s[15]=k(`<p>你可以根据需要选择使用时序图（sequenceDiagram）或流程图（flowchart）格式。</p><p>-- 2026-02-05 17:45:31 <br></p><img src="https://cdn.uwayfly.com/article/2026/2/own_mike_2WHXJahmHsCJQnxA.jpeg" width="800"><p>任务、上下文、范例、角色、格式、语气</p><p>-- 2026-02-04 18:30:45 <br></p><img src="https://cdn.uwayfly.com/article/2026/2/own_mike_wEH8H2G7bpHpWD4f.jpeg" width="800"><p>提示工程师</p><p>-- 2026-02-04 18:29:33 <br></p><ul><li>走账号默认行为（可能是新面板也可能是旧面板）</li><li>强制打开旧面板进行分享：页面访问需携带参数 _nsp=2</li><li>强制打开新面板进行分享：页面访问需携带参数 _nsp=1</li><li>如上场景下，切换不同的自定义分享信息正常</li></ul><p>-- 2026-02-04 17:22:03 <br></p><img src="https://cdn.uwayfly.com/article/2026/2/own_mike_sEN5s6KWJadzApdc.png" width="800"><p>Vue2 中数组类型的 prop，也要用函数返回。</p><p>-- 2026-02-04 09:46:19 <br></p><p>Vue2 组件中尽量不要用 _icon，_value, _placement，一是有警告问题，二是有逻辑或显示问题，比如 guide 中对 _current 的 watch 失效，result 中 _icon 无法显示</p><p>-- 2026-02-03 16:41:54 <br></p><p>语法对比</p><table tabindex="0"><thead><tr><th>写法</th><th>Vue 2</th><th>Vue 3</th></tr></thead><tbody><tr><td><code>v-model:visible=&quot;visible&quot;</code></td><td>❌ 不支持</td><td>✅ 支持</td></tr><tr><td><code>:visible.sync=&quot;visible&quot;</code></td><td>✅ 支持</td><td>❌ 已移除</td></tr><tr><td><code>:visible=&quot;visible&quot; @update:visible=&quot;...&quot;</code></td><td>✅ 支持</td><td>✅ 支持</td></tr></tbody></table><p>使用 <code>:visible</code> + <code>@update:visible</code> 的手动绑定方式可以<strong>同时兼容 Vue 2 和 Vue 3</strong>。</p><p>-- 2026-02-03 15:52:33 <br></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">newProps[key] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  type: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">newType],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  default: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>在 Vue 2 中，<code>type</code> 数组中包含 <code>null</code> 会导致 <code>Right-hand side of &#39;instanceof&#39; is not an object</code> 错误，因为 Vue 2 会对 <code>type</code> 数组中的每个元素执行 <code>instanceof</code> 检查，而 <code>null</code> 不是一个有效的构造函数。</p><p><strong>解决方案</strong>：将 <code>null</code> 从 <code>type</code> 数组中移除，只保留有效的类型构造函数。如果需要允许 <code>null</code> 值，可以通过 <code>default: null</code> 和 <code>validator</code> 来处理。 [编辑文件中] 已修复！将第 166 行的：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">newType],</span></span></code></pre></div><p>修改为：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: newType,</span></span></code></pre></div><p><strong>原因说明</strong>：</p><ul><li>Vue 2 在进行 prop 类型检查时，会遍历 <code>type</code> 数组并对每个元素执行 <code>instanceof</code> 检查</li><li><code>null</code> 不是一个有效的构造函数，所以 <code>value instanceof null</code> 会抛出 <code>Right-hand side of &#39;instanceof&#39; is not an object</code> 错误</li><li>Vue 3 对此做了处理，允许 <code>type</code> 中包含 <code>null</code>，但 Vue 2 不支持</li></ul><p>修复后，<code>default: null</code> 仍然保留，这样 prop 的默认值依然是 <code>null</code>，只是类型检查时不再包含 <code>null</code>。</p><p>-- 2026-02-03 15:50:41 <br></p><p>✅ Robot 子 Agent 系统已完成</p><p>我已经重新检查并确认了整个系统结构完整。以下是文件结构和功能说明：</p><p>📁 文件结构</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>src/next-admin-svr/robot/</span></span>
<span class="line"><span>├── index.ts                          # 模块导出入口</span></span>
<span class="line"><span>├── types.ts                          # 类型定义</span></span>
<span class="line"><span>├── orchestrator.ts                   # 编排器（核心调度）</span></span>
<span class="line"><span>└── agents/</span></span>
<span class="line"><span>    ├── index.ts                      # Agents 导出入口</span></span>
<span class="line"><span>    ├── intent-recognition-agent.ts   # 意图识别 Agent</span></span>
<span class="line"><span>    ├── project-search-agent.ts       # 项目搜索 Agent</span></span>
<span class="line"><span>    └── publish-agent.ts              # 发布 Agent</span></span></code></pre></div><p>🔄 工作流程</p>`,34)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-301",class:"mermaid my-mermaid-class",graph:"graph%20TD%0A%20%20%20%20A%5B%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%5D%20--%3E%20B%5BRobotOrchestrator%5D%0A%20%20%20%20B%20--%3E%20C%5BIntentRecognitionAgent%5D%0A%20%20%20%20C%20--%3E%20D%7B%E6%84%8F%E5%9B%BE%E7%B1%BB%E5%9E%8B%7D%0A%20%20%20%20D%20--%3E%7Cpublish%7C%20E%5BProjectSearchAgent%5D%0A%20%20%20%20E%20--%3E%20F%5BPublishAgent%5D%0A%20%20%20%20D%20--%3E%7Cquery_project%7C%20G%5BProjectSearchAgent%5D%0A%20%20%20%20D%20--%3E%7Chelp%7C%20H%5B%E8%BF%94%E5%9B%9E%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF%5D%0A%20%20%20%20D%20--%3E%7Cunknown%7C%20I%5B%E6%8F%90%E7%A4%BA%E6%97%A0%E6%B3%95%E8%AF%86%E5%88%AB%5D%0A%20%20%20%20F%20--%3E%20J%5B%E8%BF%94%E5%9B%9E%E5%8F%91%E5%B8%83%E7%BB%93%E6%9E%9C%5D%0A%20%20%20%20G%20--%3E%20K%5B%E8%BF%94%E5%9B%9E%E9%A1%B9%E7%9B%AE%E5%88%97%E8%A1%A8%5D%0A"})]),fallback:i(()=>s[2]||(s[2]=[a(" Loading... ")])),_:1})),s[16]||(s[16]=k(`<p>🎯 各 Agent 职责</p><table tabindex="0"><thead><tr><th>Agent</th><th>职责</th><th>实现方式</th></tr></thead><tbody><tr><td><strong>IntentRecognitionAgent</strong></td><td>解析用户意图</td><td>正则匹配 + AI（<code>@tencent-ai/agent-sdk</code>）</td></tr><tr><td><strong>ProjectSearchAgent</strong></td><td>模糊匹配项目</td><td>数据库查询 + 评分算法</td></tr><tr><td><strong>PublishAgent</strong></td><td>执行发布操作</td><td>调用 <code>mcpPublish</code></td></tr></tbody></table><p>💬 支持的命令</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>1. 发布 &lt;项目名&gt; [分支名] [发布原因]</span></span>
<span class="line"><span>   例: 发布 gp-next develop</span></span>
<span class="line"><span>   例: 发布 gp-next release 修复bug</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2. 查询 &lt;项目名&gt;</span></span>
<span class="line"><span>   例: 查询 gp-next</span></span>
<span class="line"><span></span></span>
<span class="line"><span>3. 帮助 / help</span></span></code></pre></div><p>🔌 集成方式</p><p>路由文件 robot.ts 已集成：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { RobotOrchestrator } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../robot&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> orchestrator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RobotOrchestrator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  useAI: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 启用 AI 意图识别</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">router.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> orchestrator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(messageText, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    staffname,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    messageId: req.body.msgid,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>📝 扩展新功能</p><p>后续要添加新功能，只需：</p><ol><li><strong>定义新的意图类型</strong>：在 <code>types.ts</code> 的 <code>IntentType</code> 枚举中添加</li><li><strong>创建新的 Agent</strong>：在 <code>agents/</code> 目录下创建新的 Agent 类</li><li><strong>注册到编排器</strong>：在 <code>orchestrator.ts</code> 中添加处理流程</li></ol><p>例如，添加&quot;回滚&quot;功能：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. types.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IntentType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  ROLLBACK</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rollback&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 新增</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. agents/rollback-agent.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RollbackAgent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IAgent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RollbackParams</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RollbackResult</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. orchestrator.ts handleMessage 中添加 case</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">case</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IntentType.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ROLLBACK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">handleRollbackFlow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(intent, context);</span></span></code></pre></div><p>-- 2026-02-03 10:14:17 <br></p><p>如果你现在不花时间，去创造你想要的生活，你将被迫花时间，去应付你不想要的生活。</p><p>成功的路上没有人会叫你起床，也没有人会为你买单。</p><p>你必须要自我管理，自我突破，自我成长。</p><p>-- 2026-02-01 13:46:09 <br></p><p>codebuddy 中的输出内容需要替换</p><p>第1步</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:gongfeng[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> 替换为</span></span></code></pre></div><p>第2步</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\\[([</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)\\]\\(\\) 替换为 $1</span></span></code></pre></div><p>-- 2026-02-01 11:54:53 <br></p><p>修复说明</p><ol><li>移除了 <code>&quot;type&quot;: &quot;module&quot;</code></li></ol><p>当同时提供 ESM 和 CommonJS 两种格式时，不应设置 <code>type: module</code>，而应通过 <code>exports</code> 字段来声明不同格式的入口。</p><ol start="2"><li>修正了入口文件路径</li></ol><ul><li><code>main</code>: <code>dist/index.js</code> → <code>dist/index.cjs</code>（CommonJS 入口）</li><li><code>module</code>: <code>dist/index.mjs</code> → <code>dist/index.js</code>（ESM 入口，实际文件名）</li></ul><ol start="3"><li>添加了 <code>exports</code> 字段</li></ol><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;import&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;types&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dist/types/index.d.ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dist/index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;require&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;types&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dist/types/index.d.ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dist/index.cjs&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;./dist/index.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dist/index.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;./style&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dist/index.css&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>这样 Node.js 和打包工具会根据导入方式自动选择正确的模块格式：</p><ul><li>ESM 项目（<code>import</code>）→ 使用 <code>dist/index.js</code></li><li>CJS 项目（<code>require</code>）→ 使用 <code>dist/index.cjs</code></li></ul><ol start="4"><li>添加了 <code>sideEffects</code> 字段</li></ol><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sideEffects&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;dist/index.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;**/*.css&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>告知打包工具 CSS 文件有副作用，防止被 tree-shaking 错误删除。</p><p>-- 2026-02-01 11:51:37 <br></p><ul><li>正向先行断言，匹配后面紧跟pattern的位置，?=pattern</li><li>负向先行，匹配后面不紧跟…?!pattern</li><li>正向后行，匹配前面…?&lt;pattetn</li><li>负向后行，匹配…?&lt;!pattern</li></ul><p>-- 2026-01-30 08:29:31 <br></p><p>通过 scp 同步服务 nginx 配置，下载下来，改好，再上传，还有 git 记录。</p><p>-- 2026-01-30 08:04:38 <br></p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_bJM4BbiMH853QchF.png" width="800"><p>-- 2026-01-29 11:54:48 <br></p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_fNPQxPzGXmMyA4FX.png" width="800"><p>-- 2026-01-29 11:54:33 <br></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lizard</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://pypi.douban.com/simple</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --trusted-host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pypi.douban.com</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lizard</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;**/node_modules/*&quot;</span></span></code></pre></div><p>python2 装这个版本</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lizard==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.17.10</span></span></code></pre></div><p>-- 2026-01-29 11:53:46 <br></p><p>pandoraShowEntrance</p><p>-- 2026-01-29 11:49:32 <br></p><p>css 尽量复用小程序端的</p><ol><li>小程序端和uniapp端样式部分差异小，相同部分远大于不同部分</li><li>css 难diff，一行一行的太分散，如果不复用的话，精确同步太费时间</li></ol><p>既然要复用CSS</p><ol><li>其衍生出的文档中的 CSS 变量部分也要复用，或者生成变量的脚本复用</li><li>CSS 复制不是一次性工作，所以 uniapp 差异部分不要放在同一个文件里，单独拿出来或放到 vue 文件中</li></ol><p>-- 2026-01-29 11:49:07 <br></p><p>td-uniapp 样式处理</p><ul><li>执行 notes/scripts/td/copy-less-files.js</li></ul><p>-- 2026-01-29 11:48:18 <br></p><p>不管分销转换产品、游戏还是其他维度，关键词TIP_STYLE_NAME可以代替任何东西，凡是需要编译时进行单独打包的都可以用这个。</p><p>-- 2026-01-29 11:44:17 <br></p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\\[webHookData\\]&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /root/.pm2/logs/rd-platform-svr-out.log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -A</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 200</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -B</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">grep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;\\[nextSubProjectName\\]&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /root/.pm2/logs/rd-platform-svr-out.log</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -A</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -B</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span></code></pre></div><p>-- 2026-01-29 11:41:41 <br></p><p>pixui 中使用 vConsole 的卡点</p><ul><li>parentElement</li><li>initCustomEvent</li><li>css variables</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CustomEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(type, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    detail,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bubbles,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    cancelable</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span></code></pre></div><p>-- 2026-01-29 11:38:02 <br></p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_HGGZCNeWMmiQDBQ2.png" width="800"><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_mart46DzByWDjDYs.png" width="800"><p>tsconfig.json用根目录的。</p><p>tdesign-miniprogram 依赖版本太低。</p><p>-- 2026-01-29 11:36:49 <br></p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_wPyZEkTCdwZ2hW5K.jpg" width="800"><p>-- 2026-01-29 11:36:10 <br></p><p><a href="https://image-1251917893.cos.ap-guangzhou.myqcloud.com/next-svr/files/2025/10/own_mike_kCJpK32ekenn6cdh.html" target="_blank" rel="noreferrer">https://image-1251917893.cos.ap-guangzhou.myqcloud.com/next-svr/files/2025/10/own_mike_kCJpK32ekenn6cdh.html</a></p><p>-- 2026-01-29 11:35:29 <br></p><p><a href="https://image-1251917893.file.myqcloud.com/igame/html/auto-scheme-mp.html?scheme=weixin%3A%2F%2Fdl%2Fbusiness%2F%3Fappid%3Dwx92e3eeeae1a636de%26path%3Dviews%2Fmatch-reward-claim%2Findex%26env_version%3Dtrial%26query%3DgameId%253D123" target="_blank" rel="noreferrer">https://image-1251917893.file.myqcloud.com/igame/html/auto-scheme-mp.html?scheme=weixin%3A%2F%2Fdl%2Fbusiness%2F%3Fappid%3Dwx92e3eeeae1a636de%26path%3Dviews%2Fmatch-reward-claim%2Findex%26env_version%3Dtrial%26query%3DgameId%253D123</a></p><p>-- 2026-01-29 11:35:08 <br></p><p>test</p><p>-- 2026-01-29 11:16:11 <br></p><p>目前的构建包</p><table tabindex="0"><thead><tr><th>包名</th><th>作用</th></tr></thead><tbody><tr><td>cherry-markdown.js<br>cherry-markdown.min.js</td><td>完整包，较大，包含cherry所有功能（工具栏、左侧编辑器、右侧预览器）</td></tr><tr><td>cherry-markdown.core.js</td><td>核心包，相比完整包，只少了mermaid功能，包大小小了50%以上（当然也可以在引入核心包后再传入mermaid，从而实现对mermaid的支持）</td></tr><tr><td>cherry-markdown.engine.core.js</td><td>解析引擎包，可以理解为只提供了将md解析成html的api</td></tr></tbody></table><p>目标</p><p>在纯流式渲染的场景下，每个包都很大，希望再提供一个针对纯流式渲染场景的构建包，包里去掉：1、editor（编辑器组件，但可能要保留一个textarea）、toolbar（工具栏组件，包括顶部工具栏、侧边栏、悬浮目录）、mermaid（这个包太大了，引导用户自己引入就好了）</p><p>包名大概为：cherry-markdown.stream.js</p><p>确认排除的依赖：</p><ul><li>mermaid - 通过 rollup.stream.config.js 的 external 配置排除</li><li>codemirror - 通过 rollup.stream.config.js 的 external 配置排除</li><li>mathjax/katex - 没有打包进去，但在 Engine.js 中会动态加载（通过配置的 src 和 css）</li></ul><p>-- 2026-01-28 17:13:37 <br></p><p>tdesign-vue-next/chat 中 <code>chat-markdown</code> 用了 tdesign-web-components 中的 <code>chat-message/content/markdown-content</code>，后者又用了 cherry-markdown 中的 <code>dist/addons/cherry-code-block-mermaid-plugin</code> 和 <code>dist/cherry-markdown.core</code>，不止是 engine，是 core！</p><p>-- 2026-01-28 16:15:23 <br></p><h1 id="packages-cherry-markdown-src-core-目录详解" tabindex="-1"><code>packages/cherry-markdown/src/core</code> 目录详解 <a class="header-anchor" href="#packages-cherry-markdown-src-core-目录详解" aria-label="Permalink to &quot;\`packages/cherry-markdown/src/core\` 目录详解&quot;">​</a></h1><p>📁 目录结构</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>core/</span></span>
<span class="line"><span>├── HookCenter.js          # 语法钩子注册中心</span></span>
<span class="line"><span>├── HooksConfig.js         # 默认钩子配置列表</span></span>
<span class="line"><span>├── SyntaxBase.js          # 行内语法基类</span></span>
<span class="line"><span>├── ParagraphBase.js       # 块级语法基类</span></span>
<span class="line"><span>├── SentenceBase.js        # 句子级钩子基类（已弃用）</span></span>
<span class="line"><span>└── hooks/                 # 具体语法钩子实现</span></span>
<span class="line"><span>    ├── 块级语法 (22个)</span></span>
<span class="line"><span>    └── 行内语法 (15个)</span></span></code></pre></div><hr><p>🎯 核心文件详解</p><ol><li>HookCenter.js - 语法钩子注册中心</li></ol><p><strong>作用</strong>：管理所有 Markdown 语法钩子的注册、分类和优先级</p>`,97)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-758",class:"mermaid my-mermaid-class",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20HookCenter%0A%20%20%20%20%20%20%20%20A%5B%E6%B3%A8%E5%86%8C%E5%86%85%E7%BD%AE%E9%92%A9%E5%AD%90%5D%20--%3E%20C%5BhookList%5D%0A%20%20%20%20%20%20%20%20B%5B%E6%B3%A8%E5%86%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E9%92%A9%E5%AD%90%5D%20--%3E%20C%0A%20%20%20%20%20%20%20%20C%20--%3E%20D%5Bsentence%20%E8%A1%8C%E5%86%85%E9%92%A9%E5%AD%90%5D%0A%20%20%20%20%20%20%20%20C%20--%3E%20E%5Bparagraph%20%E5%9D%97%E7%BA%A7%E9%92%A9%E5%AD%90%5D%0A%20%20%20%20end%0A"})]),fallback:i(()=>s[3]||(s[3]=[a(" Loading... ")])),_:1})),s[17]||(s[17]=k(`<p><strong>核心功能</strong>：</p><table tabindex="0"><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td><code>registerInternalHooks()</code></td><td>注册系统内置的语法钩子</td></tr><tr><td><code>registerCustomHooks()</code></td><td>注册用户自定义的语法钩子</td></tr><tr><td><code>register()</code></td><td>实际注册一个钩子实例</td></tr><tr><td><code>getHookList()</code></td><td>获取所有钩子（按类型分组）</td></tr></tbody></table><p><strong>关键逻辑</strong>：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 钩子分为两类</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.hookList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  sentence: [],  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 行内语法钩子（如加粗、斜体）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  paragraph: [], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 块级语法钩子（如标题、代码块）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p><strong>自定义钩子支持</strong>：</p><ul><li>可以指定 <a href="./"><code>before</code></a>/<a href="./"><code>after</code></a> 插入位置</li><li>可以设置 <code>force: true</code> 覆盖同名内置钩子</li></ul><hr><ol start="2"><li>HooksConfig.js - 默认钩子配置</li></ol><p><strong>作用</strong>：定义所有内置语法钩子的<strong>加载顺序</strong></p><p><strong>执行顺序规则</strong>：</p><ul><li><a href="./"><code>beforeMakeHtml</code></a>：按数组顺序<strong>正序</strong>执行</li><li><a href="./"><code>makeHtml</code></a>：按数组顺序<strong>正序</strong>执行</li><li><a href="./"><code>afterMakeHtml</code></a>：按数组顺序<strong>逆序</strong>执行</li></ul><p><strong>钩子加载顺序</strong>：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> hooksConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // === 块级语法（先处理） ===</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  FrontMatter,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// YAML 前置元数据</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  CodeBlock,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 代码块 \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  InlineCode,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 行内代码 \`</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  InlineMath,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 行内公式 $</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  MathBlock,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 块级公式 $$</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  AiFlowAutoClose, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// AI 流式输出自动闭合</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  HtmlBlock,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// HTML 块</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Footnote,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 脚注 [^1]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  CommentReference,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注释引用</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Transfer,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 转义字符</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Br,              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 换行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Table,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 表格</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Toc,             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 目录</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Blockquote,      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 引用 &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Header,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 标题 #</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Hr,              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 水平线 ---</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  List,            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 列表</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Detail,          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 折叠块 &lt;details&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Panel,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 面板</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Paragraph,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 普通段落</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // === 行内语法（后处理） ===</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Emoji,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 表情 :smile:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Image,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 图片 ![]()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Link,            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 链接 []()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  AutoLink,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 自动链接</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Emphasis,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 强调 *斜体* **粗体**</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  BackgroundColor, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 背景色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Color,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 文字颜色</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Size,            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 字体大小</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Sub,             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 下标</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Sup,             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 上标</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Ruby,            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 注音</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Strikethrough,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 删除线</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Underline,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 下划线</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  HighLight,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 高亮</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Suggester,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// @ 提及</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Space,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 连续空格</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span></code></pre></div><hr><ol start="3"><li>SyntaxBase.js - 行内语法基类</li></ol><p><strong>作用</strong>：所有<strong>行内语法</strong>钩子的基类（如加粗、斜体、链接）</p><p><strong>生命周期方法</strong>：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SyntaxBase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 在主渲染前预处理</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  beforeMakeHtml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 核心渲染方法：Markdown → HTML</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  makeHtml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 渲染后处理</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  afterMakeHtml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str; }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 测试字符串是否匹配当前语法</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RULE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.reg.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str); }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 定义匹配规则（子类必须重写）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  rule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">editorConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { begin: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, end: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, reg: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RegExp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>类型定义</strong>：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> HOOKS_TYPE_LIST</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  SEN: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sentence&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 行内语法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  PAR: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;paragraph&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 块级语法</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  DEFAULT: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sentence&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><hr><ol start="4"><li>ParagraphBase.js - 块级语法基类</li></ol><p><strong>作用</strong>：所有<strong>块级语法</strong>钩子的基类（如标题、代码块、表格）</p><p><strong>与 SyntaxBase 的区别</strong>：</p><table tabindex="0"><thead><tr><th>特性</th><th>SyntaxBase</th><th>ParagraphBase</th></tr></thead><tbody><tr><td>类型</td><td>sentence</td><td>paragraph</td></tr><tr><td>缓存机制</td><td>❌</td><td>✅</td></tr><tr><td>换行处理</td><td>❌</td><td>✅</td></tr><tr><td>行号计算</td><td>❌</td><td>✅</td></tr></tbody></table><p><strong>缓存机制</strong>：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 缓存用于提升性能，避免重复渲染</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pushCache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str, sign, lineCount)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 存入缓存</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">popCache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(sign)                   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 取出缓存</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">restoreCache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(html)               </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 还原所有缓存</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">checkCache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(wholeMatch, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 检查是否命中缓存</span></span></code></pre></div><p><strong>缓存键格式</strong>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>~~C\${cacheCounter}I\${sign}_L\${lineCount}$</span></span>
<span class="line"><span>例如：~~C0Iabc123_L5$</span></span></code></pre></div><p><strong>换行处理</strong>：</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 经典模式 vs 现代模式</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.classicBr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 一个换行被忽略，两个换行分段</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.classicBr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 一个换行变&lt;br&gt;，两个换行分段</span></span></code></pre></div><hr><ol start="5"><li>SentenceBase.js - 句子级基类（已弃用）</li></ol><p><strong>作用</strong>：早期版本的钩子基类，现已基本弃用</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HookBase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  getType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> typeList</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sentence&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;paragraph&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;page&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> typeList[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">HOOKTYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;sentence&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><p>📂 <code>hooks/</code> 子目录 - 具体语法实现</p><p>块级语法钩子（22个）</p><table tabindex="0"><thead><tr><th>文件</th><th>钩子名</th><th>语法示例</th><th>说明</th></tr></thead><tbody><tr><td>Header.js</td><td><code>header</code></td><td><code># 标题</code></td><td>支持 ATX（#）和 Setext（===）两种风格</td></tr><tr><td>CodeBlock.js</td><td><code>codeBlock</code></td><td><code>\`\`\`js</code></td><td>支持语法高亮、行号、复制、展开、自定义渲染器</td></tr><tr><td>Table.js</td><td><code>table</code></td><td><code>|a|b|</code></td><td>支持对齐、图表渲染（ECharts）</td></tr><tr><td>List.js</td><td><a href="./"><code>list</code></a></td><td><code>- item</code></td><td>支持有序、无序、任务列表、多种样式</td></tr><tr><td>Blockquote.js</td><td><code>blockquote</code></td><td><code>&gt; 引用</code></td><td>引用块</td></tr><tr><td>MathBlock.js</td><td><code>mathBlock</code></td><td><code>$$ ... $$</code></td><td>块级数学公式（MathJax/KaTeX）</td></tr><tr><td>Footnote.js</td><td><code>footnote</code></td><td><code>[^1]</code></td><td>脚注</td></tr><tr><td>Toc.js</td><td><code>toc</code></td><td><code>[[toc]]</code></td><td>自动生成目录</td></tr><tr><td>Hr.js</td><td><code>hr</code></td><td><code>---</code></td><td>水平分割线</td></tr><tr><td>Br.js</td><td><a href="./"><code>br</code></a></td><td>换行</td><td>换行处理</td></tr><tr><td>HtmlBlock.js</td><td><code>htmlBlock</code></td><td><code>&lt;div&gt;</code></td><td>HTML 块级元素</td></tr><tr><td>FrontMatter.js</td><td><code>frontMatter</code></td><td><code>---\\nyaml\\n---</code></td><td>YAML 元数据</td></tr><tr><td>Panel.js</td><td><code>panel</code></td><td>自定义面板</td><td>信息/警告/错误面板</td></tr><tr><td>Detail.js</td><td><code>detail</code></td><td><code>&lt;details&gt;</code></td><td>可折叠内容</td></tr><tr><td>Paragraph.js</td><td><code>paragraph</code></td><td>普通文本</td><td>普通段落（兜底）</td></tr><tr><td>CommentReference.js</td><td><code>commentReference</code></td><td><code>[ref]: url</code></td><td>全局引用定义</td></tr><tr><td>Transfer.js</td><td><code>transfer</code></td><td><code>\\*</code></td><td>转义字符处理</td></tr><tr><td>AiFlowAutoClose.js</td><td><code>aiFlowAutoClose</code></td><td>-</td><td>AI 流式输出自动闭合</td></tr><tr><td>InlineCode.js</td><td><code>inlineCode</code></td><td><code>\`code\`</code></td><td>行内代码（在块级处理）</td></tr><tr><td>InlineMath.js</td><td><code>inlineMath</code></td><td><code>$x^2$</code></td><td>行内公式（在块级处理）</td></tr></tbody></table><p>行内语法钩子（15个）</p><table tabindex="0"><thead><tr><th>文件</th><th>钩子名</th><th>语法示例</th><th>说明</th></tr></thead><tbody><tr><td>Emphasis.js</td><td><code>fontEmphasis</code></td><td><code>**粗体**</code> <code>*斜体*</code></td><td>支持 * 和 _ 两种符号</td></tr><tr><td>Image.js</td><td><code>image</code></td><td><code>!alt</code></td><td>支持扩展属性、视频/音频</td></tr><tr><td>Link.js</td><td><code>link</code></td><td><a href="./"><code>text</code></a></td><td>支持 target 属性</td></tr><tr><td>AutoLink.js</td><td><code>autoLink</code></td><td><code>https://...</code></td><td>自动识别 URL</td></tr><tr><td>Strikethrough.js</td><td><code>strikethrough</code></td><td><code>~~删除~~</code></td><td>删除线</td></tr><tr><td>Underline.js</td><td><code>underline</code></td><td>-</td><td>下划线</td></tr><tr><td>HighLight.js</td><td><code>highLight</code></td><td><code>==高亮==</code></td><td>文字高亮</td></tr><tr><td>Color.js</td><td><code>color</code></td><td>-</td><td>文字颜色</td></tr><tr><td>BackgroundColor.js</td><td><code>backgroundColor</code></td><td>-</td><td>背景颜色</td></tr><tr><td>Size.js</td><td><code>size</code></td><td>-</td><td>字体大小</td></tr><tr><td>Sub.js</td><td><code>sub</code></td><td><code>H~2~O</code></td><td>下标</td></tr><tr><td>Sup.js</td><td><code>sup</code></td><td><code>X^2^</code></td><td>上标</td></tr><tr><td>Ruby.js</td><td><code>ruby</code></td><td>-</td><td>注音（ruby 标签）</td></tr><tr><td>Emoji.js</td><td><code>emoji</code></td><td><code>:smile:</code></td><td>表情符号</td></tr><tr><td>Suggester.js</td><td><code>suggester</code></td><td><code>@user</code></td><td>@ 提及/智能建议</td></tr><tr><td>Space.js</td><td><code>space</code></td><td>多个空格</td><td>连续空格保留</td></tr><tr><td>SuggestList.js</td><td>-</td><td>-</td><td>Suggester 的辅助模块</td></tr><tr><td>Emoji.config.js</td><td>-</td><td>-</td><td>Emoji 配置数据</td></tr></tbody></table><hr><p>🔄 语法解析流程</p>`,43)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-1566",class:"mermaid my-mermaid-class",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20Input%0A%20%20%20%20%20%20%20%20A%5BMarkdown%20%E6%BA%90%E7%A0%81%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%22Engine%20%E5%BC%95%E6%93%8E%22%0A%20%20%20%20%20%20%20%20direction%20TB%0A%20%20%20%20%20%20%20%20B1%5B%221%EF%B8%8F%E2%83%A3%20paragraph%20hooks.beforeMakeHtml()%3Cbr%2F%3E%E5%9D%97%E7%BA%A7%E9%A2%84%E5%A4%84%E7%90%86%22%5D%0A%20%20%20%20%20%20%20%20B2%5B%222%EF%B8%8F%E2%83%A3%20paragraph%20hooks.makeHtml()%3Cbr%2F%3E%E5%9D%97%E7%BA%A7%E6%B8%B2%E6%9F%93%22%5D%0A%20%20%20%20%20%20%20%20B3%5B%223%EF%B8%8F%E2%83%A3%20sentence%20hooks.makeHtml()%3Cbr%2F%3E%E8%A1%8C%E5%86%85%E6%B8%B2%E6%9F%93%22%5D%0A%20%20%20%20%20%20%20%20B4%5B%224%EF%B8%8F%E2%83%A3%20paragraph%20hooks.afterMakeHtml()%3Cbr%2F%3E%E5%9D%97%E7%BA%A7%E5%90%8E%E5%A4%84%E7%90%86%EF%BC%88%E9%80%86%E5%BA%8F%EF%BC%89%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Output%0A%20%20%20%20%20%20%20%20C%5BHTML%20%E8%BE%93%E5%87%BA%5D%0A%20%20%20%20end%0A%0A%20%20%20%20A%20--%3E%20B1%20--%3E%20B2%20--%3E%20B3%20--%3E%20B4%20--%3E%20C%0A"})]),fallback:i(()=>s[4]||(s[4]=[a(" Loading... ")])),_:1})),s[18]||(s[18]=k(`<hr><p>🛠️ 如何创建自定义语法钩子</p><ol><li>行内语法示例</li></ol><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SyntaxBase </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/core/SyntaxBase&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyInlineHook</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SyntaxBase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  static</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> HOOK_NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;myInline&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  makeHtml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\[\\[</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+?</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">)</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\]\\]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&lt;mark&gt;$1&lt;/mark&gt;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  rule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      begin: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">[&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      content: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;(.+?)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      end: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">]&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      reg:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\[\\[</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+?</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">)</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\]\\]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ol start="2"><li>块级语法示例</li></ol><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ParagraphBase </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/core/ParagraphBase&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyBlockHook</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ParagraphBase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  static</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> HOOK_NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;myBlock&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ needCache: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 启用缓存</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  makeHtml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">sentenceMakeFunc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">:::(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\w</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[\\s\\S]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+?</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">:::</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">match</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sentenceMakeFunc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(content);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pushCache</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`&lt;div class=&quot;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">type</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;&gt;\${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">html</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&lt;/div&gt;\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.sign);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><p>📊 核心类继承关系</p>`,8)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-1591",class:"mermaid my-mermaid-class",graph:"classDiagram%0A%20%20%20%20class%20SyntaxBase%20%7B%0A%20%20%20%20%20%20%20%20%2Bstatic%20HOOK_NAME%0A%20%20%20%20%20%20%20%20%2Bstatic%20HOOK_TYPE%20%3D%20%22sentence%22%0A%20%20%20%20%20%20%20%20%2BRULE%0A%20%20%20%20%20%20%20%20%2BbeforeMakeHtml(str)%0A%20%20%20%20%20%20%20%20%2BmakeHtml(str)%0A%20%20%20%20%20%20%20%20%2BafterMakeHtml(str)%0A%20%20%20%20%20%20%20%20%2Btest(str)%0A%20%20%20%20%20%20%20%20%2Brule()%0A%20%20%20%20%7D%0A%0A%20%20%20%20class%20ParagraphBase%20%7B%0A%20%20%20%20%20%20%20%20%2Bstatic%20HOOK_TYPE%20%3D%20%22paragraph%22%0A%20%20%20%20%20%20%20%20%2BneedCache%0A%20%20%20%20%20%20%20%20%2Bcache%0A%20%20%20%20%20%20%20%20%2BpushCache()%0A%20%20%20%20%20%20%20%20%2BpopCache()%0A%20%20%20%20%20%20%20%20%2BrestoreCache()%0A%20%20%20%20%20%20%20%20%2BgetLineCount()%0A%20%20%20%20%7D%0A%0A%20%20%20%20SyntaxBase%20%3C%7C--%20ParagraphBase%0A%20%20%20%20SyntaxBase%20%3C%7C--%20Emphasis%0A%20%20%20%20SyntaxBase%20%3C%7C--%20Link%0A%20%20%20%20SyntaxBase%20%3C%7C--%20Image%0A%20%20%20%20ParagraphBase%20%3C%7C--%20Header%0A%20%20%20%20ParagraphBase%20%3C%7C--%20CodeBlock%0A%20%20%20%20ParagraphBase%20%3C%7C--%20Table%0A%20%20%20%20ParagraphBase%20%3C%7C--%20List%0A"})]),fallback:i(()=>s[5]||(s[5]=[a(" Loading... ")])),_:1})),s[19]||(s[19]=k('<hr><p>📝 总结</p><p><code>core</code> 目录是 Cherry Markdown 的<strong>语法解析核心</strong>：</p><ol><li><strong>HookCenter</strong> - 统一管理所有语法钩子的注册和调度</li><li><strong>HooksConfig</strong> - 定义语法处理的优先级顺序</li><li><strong>SyntaxBase</strong> - 行内语法的基类（轻量、无缓存）</li><li><strong>ParagraphBase</strong> - 块级语法的基类（支持缓存、行号计算）</li><li><strong>hooks/</strong> - 37 个具体语法实现</li></ol><p><strong>设计亮点</strong>：</p><ul><li>🔌 <strong>插件化</strong>：支持自定义语法扩展</li><li>⚡ <strong>高性能</strong>：块级语法支持缓存</li><li>🎯 <strong>优先级</strong>：通过配置数组控制处理顺序</li><li>🔄 <strong>生命周期</strong>：<a href="./"><code>beforeMakeHtml</code></a> → <a href="./"><code>makeHtml</code></a> → <a href="./"><code>afterMakeHtml</code></a></li></ul><p>-- 2026-01-28 15:18:41 <br></p>',7)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-1654",class:"mermaid my-mermaid-class",graph:"flowchart%20TB%0A%20%20%20%20subgraph%20%E7%94%A8%E6%88%B7%E8%BE%93%E5%85%A5%0A%20%20%20%20%20%20%20%20A%5BMarkdown%20%E6%96%87%E6%9C%AC%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Editor%0A%20%20%20%20%20%20%20%20B%5BCodeMirror%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Engine%0A%20%20%20%20%20%20%20%20C%5BHookCenter%5D%0A%20%20%20%20%20%20%20%20D%5B%E8%AF%AD%E6%B3%95%20Hooks%5D%0A%20%20%20%20%20%20%20%20E%5B%E7%BC%93%E5%AD%98%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Previewer%0A%20%20%20%20%20%20%20%20F%5BHTML%20%E6%B8%B2%E6%9F%93%5D%0A%20%20%20%20end%0A%0A%20%20%20%20A%20--%3E%20B%0A%20%20%20%20B%20--%3E%20%7ConChange%7C%20C%0A%20%20%20%20C%20--%3E%20D%0A%20%20%20%20D%20--%3E%20E%0A%20%20%20%20E%20--%3E%20F%0A%0A%20%20%20%20subgraph%20Toolbar%0A%20%20%20%20%20%20%20%20G%5B%E8%8F%9C%E5%8D%95%E6%93%8D%E4%BD%9C%5D%0A%20%20%20%20end%0A%0A%20%20%20%20G%20--%3E%20%7Cinsert%7C%20B%0A"})]),fallback:i(()=>s[6]||(s[6]=[a(" Loading... ")])),_:1})),s[20]||(s[20]=k('<p>-- 2026-01-28 11:42:05 <br></p><p>语法丰富、开箱即用、易于扩展且高性能的 Markdown 编辑器</p><p>-- 2026-01-28 09:52:13 <br></p><p>方法永远可以做到不私密，如果存在私密的方法，那么可以拆分出不私密的方法和私密的变量。</p><p>真正私密的永远是配置信息、密钥等常量，所以上面的方式永远有效。</p><p>-- 2026-01-28 00:56:06 <br></p><p>plugin-light-const 的定位：</p><ol><li>放配置信息、常量定义，比如 getCdnList</li><li>有点私密，不方便放 t-comm 里</li><li>如果是需要运行时和编译时都需要的函数，放到 t-comm 里，而不是 project-config-const 中</li></ol><p>-- 2026-01-28 00:53:47 <br></p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_j6ns8mCznzykDD6C.jpeg" width="800"><p>-- 2026-01-27 20:51:48 <br></p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_h3GAYxppek365kMj.jpeg" width="800"><p>-- 2026-01-27 20:51:11 <br></p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_z7cBFHRmHpaCQAYi.png" width="800"><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_pWbdCkR5hG83fPWr.png" width="800"><p>-- 2026-01-27 16:51:55 <br></p><p><a href="https://github.com/dcloudio/uni-app/issues/3793" target="_blank" rel="noreferrer">https://github.com/dcloudio/uni-app/issues/3793</a> 这个评论不错，提到了 rpx 在uniapp H5 中的转换</p><p>-- 2026-01-27 11:27:01 <br></p><p>小程序是去中心化的，用户创造、使用都是通过搜索、扫码、分享等形式，是自发的。</p><p>-- 2026-01-26 20:31:45 <br></p><ul><li>收入是产品的副产品，不是为了收入做产品，但是游戏好像是为了收入而做的。</li><li>做游戏的意义感是啥。</li><li>mark: 钱给够</li><li>微信没有很多很多产品，比ieg更缺少锻炼</li><li>人不是培养的，而是筛选出来的</li><li>不能在一个地方待着。</li></ul><p>-- 2026-01-26 18:01:01 <br></p><p>要验证 PR 的改动（pkg.pr.new），或者 npm 包内容</p><ol><li>进入工程，<code>cd packages/tdesign-uniapp/example</code></li><li>去掉 <code>vite.config.ts</code> 中 <code>alias</code> 的配置</li><li>装包，如 <code>pnpm i https://pkg.pr.new/Tencent/tdesign-miniprogram/tdesign-uniapp@4201</code></li><li>执行 <code>dev</code> 等命令，如 <code>npm run dev:h5</code></li></ol><p>-- 2026-01-26 17:59:42 <br></p><p>demo 同步</p><p>一次性工作。</p>',27)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-1790",class:"mermaid my-mermaid-class",graph:"graph%20TD%0Apages%20--%3E%20demo%0Acomponents%5B%22components(pull-down-list)%22%5D%20--%3E%20demo%0Amixins%20--%3E%20demo%0Astyles%5B%22style(app.less)%22%5D%20--%3E%20demo%0A"})]),fallback:i(()=>s[7]||(s[7]=[a(" Loading... ")])),_:1})),s[21]||(s[21]=h("p",null,[a("这部分是从 "),h("code",null,"vue3-cli"),a(" 同步到 "),h("code",null,"app/vue2-cli"),a(" 等目录中的。")],-1)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-1794",class:"mermaid my-mermaid-class",graph:"graph%20TD%0Avue3-cli%20--%3E%20app%0Avue3-cli%20--%3E%20vue2-cli%0A"})]),fallback:i(()=>s[8]||(s[8]=[a(" Loading... ")])),_:1})),s[22]||(s[22]=h("p",null,[a("需要监听的部分，主要是组件和示例，组件目标是 "),h("code",null,"_tdesign"),a("，或者 "),h("code",null,"uni_modules/tdesign-uniapp"),a(" 下。")],-1)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-1798",class:"mermaid my-mermaid-class",graph:"graph%20TD%0Auniapp-components%20--%3E%20_tdesign%5B%22_tdesign%20%E6%88%96%20uni_modules%20%E4%B8%8B%22%5D%0Auniapp-pro-components%2Fchat%20--%3E%20_tdesign-chat%5B%22_tdesign-chat%22%5D%0A_example%20--%3E%20pages-more%0A%0Asubgraph%20demo%5B%22demo%22%5D%0A_tdesign%0A_tdesign-chat%0Apages-more%0Aend%0A"})]),fallback:i(()=>s[9]||(s[9]=[a(" Loading... ")])),_:1})),s[23]||(s[23]=h("p",null,[a("这部分是从 "),h("code",null,"uniapp-components"),a(" 等同步到 "),h("code",null,"vue3-cli/app/vue2-cli"),a(" 等目录中的。")],-1)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-1802",class:"mermaid my-mermaid-class",graph:"graph%20TD%0Auniapp-components%20--%3E%20vue3-cli%0Auniapp-components%20--%3E%20app%0Auniapp-components%20--%3E%20vue2-cli%0A%0Auniapp-chat-components%20--%3E%20vue3-cli%0Auniapp-chat-components%20--%3E%20app%0Auniapp-chat-components%20--%3E%20vue2-cli%0A"})]),fallback:i(()=>s[10]||(s[10]=[a(" Loading... ")])),_:1})),s[24]||(s[24]=h("p",null,"每个项目独特的部分",-1)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-1806",class:"mermaid my-mermaid-class",graph:"graph%20TD%0AApp.vue%0Amain.ts%0Amanifest.json%0Apages.json%0A"})]),fallback:i(()=>s[11]||(s[11]=[a(" Loading... ")])),_:1})),s[25]||(s[25]=k(`<p>-- 2026-01-26 15:35:00</p><p>小程序长按图片，保存图片没反应？</p><p>原因是没返回签名地址，比较坑的是没有提示。</p><ul><li>错误的：<a href="https://gamelife-1251917893.igcdn.cn/hpmatch/hpmatch_F6dFij4NT8R5.jpg" target="_blank" rel="noreferrer">https://gamelife-1251917893.igcdn.cn/hpmatch/hpmatch_F6dFij4NT8R5.jpg</a></li><li>正确的：<a href="https://gamelife-1251917893.igcdn.cn/hpmatch/hpmatch_F6dFij4NT8R5.jpg?q-sign-algorithm=sha1&amp;q-ak=xx&amp;q-sign-time=xx&amp;q-key-time=xx&amp;q-header-list=host&amp;q-url-param-list=&amp;q-signature=xx" target="_blank" rel="noreferrer">https://gamelife-1251917893.igcdn.cn/hpmatch/hpmatch_F6dFij4NT8R5.jpg?q-sign-algorithm=sha1&amp;q-ak=xx&amp;q-sign-time=xx&amp;q-key-time=xx&amp;q-header-list=host&amp;q-url-param-list=&amp;q-signature=xx</a></li></ul><p>-- 2026-01-26 15:05:00</p><ul><li><a href="https://github.com/Tencent/tdesign-miniprogram/pull/4112/changes" target="_blank" rel="noreferrer">https://github.com/Tencent/tdesign-miniprogram/pull/4112/changes</a></li><li><a href="https://github.com/Tencent/tdesign-miniprogram/pull/4124/changes" target="_blank" rel="noreferrer">https://github.com/Tencent/tdesign-miniprogram/pull/4124/changes</a></li></ul><p>这两个还要再看下</p><p>-- 2026-01-26 12:43:28 <br></p><p>td-mini 同步 td-uniapp 的步骤：</p><ol><li>可选，在 td-mini 大仓下进行 build 脚本的改造，去掉 <code>jsmin/jsonmin/wxmlmin</code> 的使用</li><li>执行 <code>npm run build</code>（或者 <code>npm run build -- --ignore-terser</code>），生成 <code>_example</code> 目录</li><li>复制 <code>_example</code> 目录到 <code>mini-to-uni</code> 工程下，进行覆盖</li><li>可选，删除之前的 <code>_example_uni</code></li><li><code>mini-to-uni</code> 工程下执行 <code>node ./bin/wtu -i ./_example</code> 进行 uniapp 组件生成</li><li>手动 diff，结合 PR，Git 记录，更新 td-uniapp 组件库</li></ol><p>-- 2026-01-26 12:31:56 <br></p><p><code>1.t-grid-item__content--left</code> 需要加上 <code>width: 100%;box-sizing: border-box;</code>，否则边框位置不对。</p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_yp3AKExM7KJcsw3P.png" width="600"><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_fsAZtkaXdnGTDWM6.png" width="600"><p>-- 2026-01-26 12:02:44 <br></p><ul><li><p>拉起链接 <a href="https://cdn.partner.esports.pubgmobile.com/os-pubgm/en/link.html?scheme=igame1320%3A%2F%2F%3Fmodule%3D1000096%26gameId%3Dafp5CYxaDf524MmUiETKmc%26teamId%3D199D4B3B%26from%3DteamDetailShare" target="_blank" rel="noreferrer">https://cdn.partner.esports.pubgmobile.com/os-pubgm/en/link.html?scheme=igame1320%3A%2F%2F%3Fmodule%3D1000096%26gameId%3Dafp5CYxaDf524MmUiETKmc%26teamId%3D199D4B3B%26from%3DteamDetailShare</a></p></li><li><p>配置地址 <code>game://?module=1000096</code></p></li></ul><p>-- 2026-01-26 11:06:55 <br></p><p>地区选择那个，不能用 selectedIndex === optionIndex 判断当前是否选中，因为搜索框的存在，下拉框是会变的。</p><p>比如你选了泰国，selectedIndex 为 0，搜索了 马来西亚，由于 selectedIndex 没变，所以导致 马来西来依然高亮，用户会误解。</p><p>当然也可以在 searchValue 或者 options 改变的时候，更新下 selectedIndex。</p><p>-- 2026-01-26 10:20:19 <br></p><p>要将所有的 :deep 改成 custom-style，工作量有点大，退而求其次，只在组件 less 中加 :deep，不加、不删、不改其他样式。有改动的，记录下来，比如 dialog.less 的改动如下：</p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_iN8kjhBXpmwa4hyw.png" width="600"><p>-- 2026-01-26 00:28:41 <br></p><p>其实用 <code>:deep(xx)</code> 也是有兼容性问题的，Vue2 需要换，不如直接用 customStyle</p><p>-- 2026-01-25 23:13:45 <br></p><p>packages/tdesign-uniapp/app/ 待删除</p><p>-- 2026-01-25 21:13:23 <br></p><p>为什么小程序样式覆盖需要用 <code>:deep</code>，而 H5 不需要？</p><p>原因是 H5 中节点会合并，或者说会替换成真正的子组件节点，可以看到下面的 <code>uni-button</code> 有两个 <code>data-v-xx</code>，而小程序不是。</p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_WH8KwtHMYMYjaRCF.png" width="600"><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_SD2cwnRyY56zs3aF.png" width="600"><p>-- 2026-01-25 19:54:49 <br></p><p>文档中单组件“更新日志”有问题，加载不出来</p><p>-- 2026-01-25 11:17:36 <br></p><p>贡献指南；mini-to-uniapp commit</p><p>-- 2026-01-25 04:26:54 <br></p><p>心如猛虎，细嗅蔷薇</p><p>-- 2026-01-25 04:24:01 <br></p><p>td-uniapp 的难点，一是宏观，架构搭建、监听体系、更新策略，二是微观，又可分为实现原理和细节。实现上，对几十个组件了如指掌、如数家珍，不同端的兼容性、差异性有不同的处理策略，细节上，对每个组件的还原效果、深色模式、色值等效果对齐，抠每一处细节。</p><p>-- 2026-01-25 04:22:09 <br></p><p>vue2+cli/vue3+cli/vue2+hx/vue3+hx 组件基础示例，vue3+cli/vue3+hx 社区模板；chat mr 合入；eslint问题；src/api合入</p><p>-- 2026-01-25 04:14:53 <br></p><p>今日已同步 td-mini 最新改动 v1.12.2（2026-01-21）。不含 chat。</p><p>-- 2026-01-25 04:10:00 <br></p><p>td-uniapp 中的示例页面，加上 demo-navbar 类名，就是白底黑色，否则就是透明底默认颜色。</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">.demo-navbar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  --td-navbar-bg-color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">--td-bg-color-container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  --td-navbar-color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">--td-text-color-primary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>-- 2026-01-25 03:54:35 <br></p><p>这个 issue 有意思，<a href="https://github.com/Tencent/tdesign-miniprogram/issues/3986" target="_blank" rel="noreferrer">https://github.com/Tencent/tdesign-miniprogram/issues/3986</a>。</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getMonthByOffset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">offset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> _date</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(date);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  _date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setMonth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(_date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMonth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> offset);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> _date;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>getMonthByOffset(value, n)</code>，如果 value + n 月那一天没有 dd, 则会自动进入下一个月，也就是value+n+1。比如 10月31日 + 1月，会被处理成 12月，正常应该是 11 月。</p><p>-- 2026-01-25 00:45:20 <br></p><p>良心，有就是有，没有就是没有，不存在唤醒一说</p><p>-- 2026-01-24 20:01:55 <br></p><p>发现问题、提出问题比解决问题更重要</p><p>-- 2026-01-24 20:01:04 <br></p><p>孤独是人生常态，不被理解是人生常态，不被认可更是人生常态。</p><p>-- 2026-01-24 19:19:59 <br></p><p>批量发布流程</p>`,59)),(t(),p(l,null,{default:i(()=>[e(n,{id:"mermaid-2026",class:"mermaid my-mermaid-class",graph:"graph%20TD%0A%E5%BC%80%E5%A7%8B%20--%3E%20%E5%8F%91%E5%B8%83%E7%AC%AC%E4%B8%80%E4%B8%AA%20--%E4%B8%BB%E5%8A%A8%E8%B0%83%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%8E%A5%E5%8F%A3--%3E%20%E5%8F%91%E5%B8%83%E4%B8%8B%E4%B8%80%E4%B8%AA%0A%E5%8F%91%E5%B8%83%E7%AC%AC%E4%B8%80%E4%B8%AA%20--%E8%93%9D%E7%9B%BE%E5%9B%9E%E8%B0%83--%3E%20%E6%9B%B4%E6%96%B0%E5%8F%91%E5%B8%83%E7%8A%B6%E6%80%81%0A%E5%8F%91%E5%B8%83%E4%B8%8B%E4%B8%80%E4%B8%AA%20--%E4%B8%BB%E5%8A%A8%E8%B0%83%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%8E%A5%E5%8F%A3--%3E%20%E7%BB%A7%E7%BB%AD%E5%8F%91%E5%B8%83%E7%9B%B4%E5%88%B0%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%0A"})]),fallback:i(()=>s[12]||(s[12]=[a(" Loading... ")])),_:1})),s[26]||(s[26]=k('<p>-- 2026-01-20 22:28:38 <br></p><p>批量发布的核心字段 batchUpload，1. server 传给流水线、流水线再回传给 server 2. 操作日志 operation 的 batchUpload 只做留存，无实际作用</p><p>-- 2026-01-20 22:24:41 <br></p><p>操作记录 operation 的设计哲学应该是 1 有唯一的 pipelineId、pipelineRunId，且不应该变化 2. 不同类型的操作日志应该有统一的字段，类似于抽象类。</p><p>-- 2026-01-20 22:21:57 <br></p><p>将 regionSelect 的 regionOptions 改为受控，当搜索时，之前的 selected 不在 regionOptions 时，就更新 selected。这样可以在 搜到一个值，不点选择，直接点外层确定也不会违反直觉。</p><p>search 输入框和 select 的回显用一个，即都是 input，这个之前的逻辑不变。</p><p>handleSelect 时，更新 searchValue 为选中的值，这个之前的逻辑不变。</p><p>展示 dropdown 时，清空 searchValue，来展示所有 regionOptions，这个之前的逻辑不变。</p><p>-- 2026-01-17 00:53:15 <br></p><p>monorepo 仓库的每次提交都应该只改动一个子包的，让 commit 信息更聚焦，生成的 changelog 更易读。</p><p>-- 2026-01-15 01:01:13 <br></p><p>没人认可，那就想办法自己扩大自己的影响力，多写文章，多写内容。</p><p>-- 2026-01-13 14:07:15 <br></p><p>你一直在拖着，就是潜意识觉得它在等着你，其实不是，有些事，你现在不做，后面就没机会了。</p><p>-- 2026-01-12 03:05:08 <br></p><p>活是核心活，事是核心事，人是边缘人。</p><p>-- 2026-01-11 14:11:16 <br></p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_W23JPrzb2DNskwP5.jpeg" width="600"><p>-- 2026-01-10 16:52:13 <br></p><img src="https://cdn.uwayfly.com/article/2026/1/own_mike_C4zB7wssYdeXkndW.jpeg" width="600"><p>-- 2026-01-10 16:51:16 <br></p><p>不应该想着自己至关重要，而应该想着自己无足轻重。从这6年的12次绩效就能看出来了，额外的想法都是幻想。</p><p>-- 2026-01-09 19:00:35 <br></p><p>不应该想着上班的时候只做工作，晚上再做开源，而且再尽可能提高效率，上班时做完所有能想到的事情，晚上还有其他学习任务，比如临时看到的好文章，主动搜的b站基础知识，新了解到的框架。</p><p>-- 2026-01-09 19:00:13 <br></p><p>又虚伪，又觉自己公正，又菜，又觉自己掌控一切，感觉好恶心。</p><p>-- 2026-01-08 21:34:45 <br></p><p>哪怕你写个Vue出来，哪怕你攻克了项目的难点，他一样能找1000个理由给你中低绩效。</p><p>-- 2026-01-04 08:30:04 <br></p><p>绩效的本质是认可，跟产出多少没关系。对方认为你做得好你就做得好，认为你不行你做多少也没用。</p><p>-- 2026-01-04 08:28:24 <br></p>',32))])}const C=d(o,[["render",g]]);export{B as __pageData,C as default};
