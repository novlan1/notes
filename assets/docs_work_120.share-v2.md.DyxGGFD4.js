import{_ as s,C as t,c as d,o as a,a2 as n,b as o,w as i,a as p,G as h,a3 as l}from"./chunks/framework.CriqKoQt.js";const b=JSON.parse('{"title":"分享 V2","description":"","frontmatter":{},"headers":[],"relativePath":"docs/work/120.share-v2.md","filePath":"docs/work/120.share-v2.md","lastUpdated":1767144988000}'),c={name:"docs/work/120.share-v2.md"};function m(_,e,S,u,k,A){const r=t("Mermaid");return a(),d("div",null,[e[1]||(e[1]=n('<div class="info custom-block"><p class="custom-block-title">作者</p><p>novlan1</p><p>2025.12.31</p></div><h1 id="分享-v2" tabindex="-1">分享 V2 <a class="header-anchor" href="#分享-v2" aria-label="Permalink to &quot;分享 V2&quot;">​</a></h1><h2 id="原理" tabindex="-1">原理 <a class="header-anchor" href="#原理" aria-label="Permalink to &quot;原理&quot;">​</a></h2><p>以 <code>iniShare</code> 为例。</p>',4)),(a(),o(l,null,{default:i(()=>[h(r,{id:"mermaid-17",class:"mermaid my-mermaid-class",graph:"graph%20TD%0A%0Asubgraph%20initInner%5B%20%5D%0Aloader%20--%22sdk%22--%3E%20umd%0Aumd%20--%3E%20iniShareInner%5BiniShare%5D%0AiniShareInner%20--%3E%20msdkV5%0AiniShareInner%20--%3E%20msdk%0AiniShareInner%20--%3E%20gHelper%0AiniShareInner%20--%3E%20qq%0AiniShareInner%20--%3E%20wx%0AiniShareInner%20--%3E%20miniprogram%0AiniShareInner%20--%3E%20pvpapp%0AiniShareInner%20--%3E%20tipapp%0AiniShareInner%20--%3E%20slugSdk%0Aend%0A%0AiniShare%20--%3E%20initInner%0A"})]),fallback:i(()=>e[0]||(e[0]=[p(" Loading... ")])),_:1})),e[2]||(e[2]=n(`<p>先加载 <code>sdk</code> 文件，然后用 <code>umd</code> 暴露出的全局变量执行真正的方法。</p><h2 id="业务接入流程" tabindex="-1">业务接入流程 <a class="header-anchor" href="#业务接入流程" aria-label="Permalink to &quot;业务接入流程&quot;">​</a></h2><p>修改代码，将 <code>@tencent/pmd-widget/lib/share</code> 的导出都改成 <code>@tencent/pmd-share</code> 的 <code>v2</code> 版本。</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">- import { initShare, hideShareBtn, openShareUI, setupWzydShare } from &#39;@tencent/pmd-widget/lib/share&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">+ import { initShareV2, hideShareBtnV2, openShareUIV2, setupWzydShareV2 } from &#39;@tencent/pmd-share&#39;</span></span></code></pre></div>`,4))])}const g=s(c,[["render",m]]);export{b as __pageData,g as default};
