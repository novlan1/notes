import{_ as i,c as a,o as n,a2 as t}from"./chunks/framework.CriqKoQt.js";const c=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/2025下/tdesign-uniapp-other.md","filePath":"docs/2025下/tdesign-uniapp-other.md","lastUpdated":1769731478000}'),l={name:"docs/2025下/tdesign-uniapp-other.md"};function e(p,s,h,k,d,o){return n(),a("div",null,s[0]||(s[0]=[t(`<h3 id="_1-token-核心" tabindex="-1">1. token 核心 <a class="header-anchor" href="#_1-token-核心" aria-label="Permalink to &quot;1. token 核心&quot;">​</a></h3><blockquote><p>颜色色板 =&gt; 全局语义token =&gt; 组件token</p></blockquote><h3 id="_2-wxs" tabindex="-1">2. WXS <a class="header-anchor" href="#_2-wxs" aria-label="Permalink to &quot;2. WXS&quot;">​</a></h3><img src="https://cdn.uwayfly.com/article/2025/10/own_mike_62aJQAxB8dp3b6j7.png" width="600"><h3 id="_3-artwork" tabindex="-1">3. artwork <a class="header-anchor" href="#_3-artwork" aria-label="Permalink to &quot;3. artwork&quot;">​</a></h3><img src="https://cdn.uwayfly.com/article/2025/10/own_mike_YerJ44De845RSASw.png" width="600"><h3 id="_4-hard" tabindex="-1">4. hard <a class="header-anchor" href="#_4-hard" aria-label="Permalink to &quot;4. hard&quot;">​</a></h3><p>The hard road might not lead to glory But the easy road definitely won&#39;t.</p><h3 id="_5-类型声明" tabindex="-1">5. 类型声明 <a class="header-anchor" href="#_5-类型声明" aria-label="Permalink to &quot;5. 类型声明&quot;">​</a></h3><p>packages.json 中给每个组件声明类型，具体是在 exports 字段中：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;./*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;./navbar/navbar.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;types&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./types/navbar.d.ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;import&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./navbar/navbar.vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./navbar/navbar.vue&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>注意这里的顺序，必须是先 types 后 default/import，否则会报错：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>node_modules/tdesign-uniapp/navbar/navbar.d.vue.ts”处有类型，但在遵守</span></span>
<span class="line"><span>package.json &quot;exports&quot; 时无法解析此结果。“tdesign-uniapp”库可能需要更新其</span></span>
<span class="line"><span>package.json 或键入</span></span></code></pre></div><img src="https://cdn.uwayfly.com/article/2025/11/own_mike_AyKiXpnM6kPxWhfa.png" width="600"><p>同时也要注意加上下面这句，否则其他 css 文件这些无法导入。</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;./*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./*&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_6-definecomponent" tabindex="-1">6. DefineComponent <a class="header-anchor" href="#_6-definecomponent" aria-label="Permalink to &quot;6. DefineComponent&quot;">​</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DefineComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PropsOrPropOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RawBindings</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">D</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">C</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComputedOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComputedOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">M</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MethodOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MethodOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Mixin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentOptionsMixin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentOptionsMixin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Extends</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentOptionsMixin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentOptionsMixin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">E</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EmitsOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">EE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PublicProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ResolveProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PropsOrPropOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Defaults</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ExtractDefaultPropTypes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PropsOrPropOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">S</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SlotsType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">LC</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directives</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Exposed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Provide</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentProvideOptions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentProvideOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">MakeDefaultsOptional</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TypeRefs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">unknown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TypeEl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>解读如下：</p><ol><li>PropsOrPropOptions- Props</li><li>RawBindings- Setup 返回值</li><li>D- Data</li><li>C- Computed</li><li>M- Methods</li><li>Mixin- Mixins</li><li>Extends- Extends</li><li>E- Emits</li><li>EE- Emits 选项（字符串）</li><li>PP- PublicProps</li><li>Props- 解析后的 Props</li><li>Defaults- 默认值类型</li><li>S- Slots（第12个参数！）</li><li>LC- 局部组件</li><li>Directives- 指令</li><li>Exposed- 暴露的属性</li><li>Provide- Provide</li><li>MakeDefaultsOptional- 是否可选默认值</li><li>TypeRefs- 类型引用</li><li>TypeEl- 元素类型</li></ol><p>uniapp 中 CLI +Typescript 模板有点问题，slot 类型报错，解决方案：</p><ol><li>去掉 <code>env.d.ts</code> 中 <code>*.vue</code> 的类型</li></ol><img src="https://cdn.uwayfly.com/article/2025/11/own_mike_kirx5GczWXZdJRY5.png" width="600"><ol start="2"><li><code>tsconfig.json</code> 指定 <code>&quot;moduleResolution&quot;: &quot;bundler&quot;</code></li></ol><p>推荐后者。</p><h3 id="_7-nvue-vs-uvue" tabindex="-1">7. nvue vs uvue <a class="header-anchor" href="#_7-nvue-vs-uvue" aria-label="Permalink to &quot;7. nvue vs uvue&quot;">​</a></h3><img src="https://cdn.uwayfly.com/article/2025/11/own_mike_w2rj56ds3YeX8drQ.png" width="600"><h3 id="_8-fab" tabindex="-1">8. Fab <a class="header-anchor" href="#_8-fab" aria-label="Permalink to &quot;8. Fab&quot;">​</a></h3><p><code>fab</code> 组件 <code>draggable</code> 类型只能是 <code>[Boolean, String]</code>，不能是 <code>[String, Boolean]</code>，也就是 <code>Boolean</code> 在前，否则不能拖动。</p><p>文档：<a href="https://cn.vuejs.org/guide/components/props#boolean-casting" target="_blank" rel="noreferrer">https://cn.vuejs.org/guide/components/props#boolean-casting</a></p><img src="https://cdn.uwayfly.com/article/2025/11/own_mike_dhbEKKShhFjdAZjG.png" width="600"><h3 id="_9-custom-style" tabindex="-1">9. custom-style <a class="header-anchor" href="#_9-custom-style" aria-label="Permalink to &quot;9. custom-style&quot;">​</a></h3><p><code>custom-style</code> 我认为是<strong>重剑无锋</strong>。</p><h3 id="_10-大仓思辨" tabindex="-1">10. 大仓思辨 <a class="header-anchor" href="#_10-大仓思辨" aria-label="Permalink to &quot;10. 大仓思辨&quot;">​</a></h3><p>大仓模式虽好，但不适合所有项目。</p><ol><li>不同的子工程有不同的发布节奏，合并分支时机容易冲突</li><li>不同的子工程有不同的权限要求</li></ol><h3 id="_11-uniapp-中-app-开发" tabindex="-1">11. uniapp 中 app 开发 <a class="header-anchor" href="#_11-uniapp-中-app-开发" aria-label="Permalink to &quot;11. uniapp 中 app 开发&quot;">​</a></h3><p>资料：<a href="https://uniapp.dcloud.net.cn/tutorial/run/installSimulator.html#run-app-android-emulator" target="_blank" rel="noreferrer">https://uniapp.dcloud.net.cn/tutorial/run/installSimulator.html#run-app-android-emulator</a></p><h3 id="_12-如何查看-udid" tabindex="-1">12. 如何查看 udid <a class="header-anchor" href="#_12-如何查看-udid" aria-label="Permalink to &quot;12. 如何查看 udid&quot;">​</a></h3><p>连接设备，xcode, command+shift+2</p><h3 id="_13-vscode-config" tabindex="-1">13. vscode config <a class="header-anchor" href="#_13-vscode-config" aria-label="Permalink to &quot;13. vscode config&quot;">​</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;editor.fontSize&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;chat.editor.fontSize&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;debug.console.fontSize&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;window.zoomLevel&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.4</span></span></code></pre></div><h3 id="_14-yak-shaking-map" tabindex="-1">14. yak shaking map <a class="header-anchor" href="#_14-yak-shaking-map" aria-label="Permalink to &quot;14. yak shaking map&quot;">​</a></h3><p><code>yak-shaving-map</code>，剃毛路线图。<code>Yak shaving</code> 是编程领域的隐喻，指为完成一个任务而不得不先完成一系列琐碎前置任务的过程。直译保留原始意象，括号注释说明文化背景</p><p>Yak​​ 通常被直译为 ​​“牦牛”​​。</p><h3 id="_15-scaletofill" tabindex="-1">15. scaleToFill <a class="header-anchor" href="#_15-scaletofill" aria-label="Permalink to &quot;15. scaleToFill&quot;">​</a></h3><ul><li>scaleToFill - 缩放填充</li><li>​aspectFill - 纵横填充​</li><li>aspectFit - 纵横适应</li><li>widthFix - 宽度自适应</li></ul><img src="https://cdn.uwayfly.com/article/2025/11/own_mike_FhGJXHsf4bZWCJF5.png" width="600"><h3 id="_16-tdesign-miniprogram-样式文件" tabindex="-1">16. tdesign-miniprogram 样式文件 <a class="header-anchor" href="#_16-tdesign-miniprogram-样式文件" aria-label="Permalink to &quot;16. tdesign-miniprogram 样式文件&quot;">​</a></h3><ul><li><code>style/base = style/var + style/mixins</code>，大部分组件使用，<code>var</code> 和 <code>mixin</code> 都是用到才会编译，不用不会编译，不会增加体积</li><li><code>style/index = style/base + style/utilities</code>，个别组件引入</li><li><code>style/icons</code>，Icon 组件使用</li><li><code>style/theme/index.css</code>，业务使用</li></ul><h3 id="_17-tdesign-uniapp-常用连接" tabindex="-1">17. tdesign-uniapp 常用连接 <a class="header-anchor" href="#_17-tdesign-uniapp-常用连接" aria-label="Permalink to &quot;17. tdesign-uniapp 常用连接&quot;">​</a></h3><ul><li>二维码图片，<a href="https://cdn.uwayfly.com/tdesign-uniapp/tdesign-uniapp-qrcodes.png" target="_blank" rel="noreferrer">https://cdn.uwayfly.com/tdesign-uniapp/tdesign-uniapp-qrcodes.png</a></li><li>安卓包下载地址，<a href="https://cdn.uwayfly.com/tdesign-uniapp/apk/tdesign-uniapp.apk" target="_blank" rel="noreferrer">https://cdn.uwayfly.com/tdesign-uniapp/apk/tdesign-uniapp.apk</a></li></ul><h3 id="_18-组件库上限" tabindex="-1">18. 组件库上限 <a class="header-anchor" href="#_18-组件库上限" aria-label="Permalink to &quot;18. 组件库上限&quot;">​</a></h3><p>交互和视觉设计决定了组件库的上限，组件库的交互一般都是业内共识了，所以基本就是视觉了，包括配色、大小。</p><h3 id="_19-styleisolation" tabindex="-1">19. styleIsolation <a class="header-anchor" href="#_19-styleisolation" aria-label="Permalink to &quot;19. styleIsolation&quot;">​</a></h3><p>与页面、其他组件的影响。</p><img src="https://cdn.uwayfly.com/article/2025/11/own_mike_AKM2Afy7B8RhYwne.png" width="600"><h3 id="_20-default-undefined" tabindex="-1">20. <code>default: undefined</code> <a class="header-anchor" href="#_20-default-undefined" aria-label="Permalink to &quot;20. \`default: undefined\`&quot;">​</a></h3><p>如何判断 <code>props</code> 是否被显式声明了 <code>default: undefined</code>?</p><p>可以用:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;default&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a;</span></span></code></pre></div><img src="https://cdn.uwayfly.com/article/2025/11/own_mike_RsnFj3ek8ZFJNfT4.png" width="376"><h3 id="_21-大仓" tabindex="-1">21. 大仓 <a class="header-anchor" href="#_21-大仓" aria-label="Permalink to &quot;21. 大仓&quot;">​</a></h3><p>方案：</p><ul><li>packages <ul><li>common</li><li>components</li><li>pro-components</li><li>tdesign-miniprogram</li><li>tdesign-miniprogram-chat</li><li>tdesign-uniapp <ul><li>site</li><li>components</li></ul></li><li>tdesign-uniapp-chat <ul><li>site</li><li>components</li></ul></li></ul></li></ul><p>以下废弃：</p><ul><li>packages <ul><li>common</li><li>components</li><li>pro-components</li><li>tdesign-miniprogram</li><li>tdesign-miniprogram-chat</li><li>tdesign-uniapp</li><li>tdesign-uniapp-chat</li><li>tdesign-uniapp-site</li><li>tdesign-uniapp-chat-site</li></ul></li></ul><h3 id="_22-github-actions-执行基准" tabindex="-1">22. GitHub actions 执行基准 <a class="header-anchor" href="#_22-github-actions-执行基准" aria-label="Permalink to &quot;22. GitHub actions 执行基准&quot;">​</a></h3><p>GitHub Actions 在 PR 时默认会创建一个&quot;合并后的虚拟提交&quot;来执行，既不是纯粹的源分支，也不是纯粹的目标分支。</p><p><code>pull_request_target</code> 特殊，它是 GitHub Actions 中一个有风险但有时必要的事件类型，它与普通的 <code>pull_request</code> 有重要区别。</p><p>核心区别</p><p>普通 <code>pull_request</code> 事件：</p><ul><li>执行环境：在 PR 的源分支上下文中运行</li><li>权限：有限权限，无法访问敏感 <code>secrets</code>（来自 <code>fork</code> 时）</li><li>安全：相对安全</li></ul><p><code>pull_request_target</code> 事件：</p><ul><li>执行环境：在 PR 的目标分支上下文中运行</li><li>权限：拥有写仓库权限和完整 <code>secrets</code> 访问权</li><li>安全风险：高风险，可能被恶意 PR 利用</li></ul><h3 id="类型" tabindex="-1">类型 <a class="header-anchor" href="#类型" aria-label="Permalink to &quot;类型&quot;">​</a></h3><p>全局搜索 <code>WechatMiniprogram</code>，不允许出现。</p><h3 id="脚本" tabindex="-1">脚本 <a class="header-anchor" href="#脚本" aria-label="Permalink to &quot;脚本&quot;">​</a></h3><ol><li><code>pages</code> 脚本，处理 <code>pages.json</code> 生成</li><li>清理脚本 <ul><li><code>example</code> 中 <code>_tdesign, _tdesign-uniapp-chat, pages-more</code></li><li>HX 中 <code>uni_modules/tdesign-uniapp, uni_modules/tdesign-uniapp-chat, pages-more, pages, components/</code></li></ul></li><li><code>copy</code> 脚本 <ul><li>基础组件复制到 <code>src/_tdesign</code>，HX 是 <code>uni_modules/tdesign-uniapp/components</code></li><li>Chat 组件复制到 <code>src/_tdesign-uniapp-chat</code>，HX 是 <code>uni_modules/tdesign-uniapp-chat/components</code></li><li>示例（<code>_example</code>）复制到 <code>src/pages-more</code>，HX 一样</li></ul><ul><li><code>less</code> （非示例中的）解析然后复制</li><li>将 <code>example</code> 中 <code>src/pages</code> 和 <code>src/components</code> 复制到 HX 的 <code>pages</code> 和 <code>components</code> 下</li></ul></li></ol><h3 id="hbuilderx-中配置-alias" tabindex="-1">HBuilderX 中配置 alias <a class="header-anchor" href="#hbuilderx-中配置-alias" aria-label="Permalink to &quot;HBuilderX 中配置 alias&quot;">​</a></h3><p>Vue3 中新建 <code>vite.config.js</code></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// vite.config.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uni </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@dcloudio/vite-plugin-uni&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uni</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    alias: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;tdesign-uniapp&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./uni_modules/tdesign-uniapp/components&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;tdesign-uniapp-chat&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./uni_modules/tdesign-uniapp-chat/components&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>Vue2 中新建 <code>vue.config.js</code></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// vue.config.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, dir);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  chainWebpack</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">config</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    config.resolve.alias</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tdesign-uniapp&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./uni_modules/tdesign-uniapp/components&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;tdesign-uniapp-chat&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./uni_modules/tdesign-uniapp-chat/components&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>Vue2 中不能在模板中使用 <code>?.</code> 可选链操作符。</p><p>Vue3 类型为 Array 的，需要加默认值。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Invalid prop: type check failed for prop &quot;value&quot;. Expected Array, got Boolean with value false.</span></span></code></pre></div><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: Array,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ([])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><h3 id="swipecell" tabindex="-1">SwipeCell <a class="header-anchor" href="#swipecell" aria-label="Permalink to &quot;SwipeCell&quot;">​</a></h3><ul><li><code>props.opened</code> 驱动 <code>state.opened</code></li><li>touchmove 等事件会改变 <code>state.opened</code></li><li>监听 <code>state.opened</code>，执行 <code>onOpenedChange</code></li></ul>`,90)]))}const g=i(l,[["render",e]]);export{c as __pageData,g as default};
