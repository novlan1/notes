import{_ as r,C as d,c as p,o as a,a2 as o,b as n,j as E,w as t,a as e,G as l,a3 as A}from"./chunks/framework.CriqKoQt.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"docs/2026上/tdesign-e2e-test.md","filePath":"docs/2026上/tdesign-e2e-test.md","lastUpdated":1770784983000}'),h={name:"docs/2026上/tdesign-e2e-test.md"};function B(c,s,C,F,g,k){const i=d("Mermaid");return a(),p("div",null,[s[5]||(s[5]=o('<h2 id="_1-项目背景" tabindex="-1">1. 项目背景 <a class="header-anchor" href="#_1-项目背景" aria-label="Permalink to &quot;1. 项目背景&quot;">​</a></h2><p><a href="https://tdesign.tencent.com/" target="_blank" rel="noreferrer">TDesign</a> 是腾讯开源的企业级设计体系，覆盖了 Vue Next、UniApp、小程序、Mobile Vue 等多个技术栈，其官网承载着大量组件文档页面。随着站点规模增长，一个核心风险始终存在——<strong>页面发布后白屏</strong>或<strong>关键元素丢失</strong>。手工巡检不现实，传统的单元测试又覆盖不到真实浏览器的渲染链路。</p><p><a href="https://github.com/TDesignOteam/tdesign-e2e-test" target="_blank" rel="noreferrer">tdesign-e2e-test</a> 正是为解决这一问题而设计的：基于 <strong>Puppeteer + Jest</strong>，通过 <strong>纯配置驱动</strong> 的方式，让开发者只需编写 JSON 风格的配置对象，即可自动生成完整的 E2E 测试用例，<strong>零测试代码编写</strong>。</p><hr><h2 id="_2-整体架构" tabindex="-1">2. 整体架构 <a class="header-anchor" href="#_2-整体架构" aria-label="Permalink to &quot;2. 整体架构&quot;">​</a></h2><p>项目采用 <strong>&quot;配置层 → 引擎层 → 工具层&quot;</strong> 三层架构，各层职责清晰、互不耦合：</p>',6)),(a(),n(A,null,{default:t(()=>[l(i,{id:"mermaid-18",class:"mermaid my-mermaid-class",graph:"graph%20TB%0A%20%20%20%20subgraph%20%E9%85%8D%E7%BD%AE%E5%B1%82%5B%22%F0%9F%93%82%20%E9%85%8D%E7%BD%AE%E5%B1%82%20(tests%2Fconfig%2F)%22%5D%0A%20%20%20%20%20%20%20%20types%5B%22types.ts%3Cbr%2F%3E%E7%B1%BB%E5%9E%8B%E5%AE%9A%E4%B9%89%22%5D%0A%20%20%20%20%20%20%20%20modules%5B%22modules%2F%3Cbr%2F%3E%E6%A8%A1%E5%9D%97%E5%8C%96%E9%85%8D%E7%BD%AE%22%5D%0A%20%20%20%20%20%20%20%20entry%5B%22pages.config.ts%3Cbr%2F%3E%E9%85%8D%E7%BD%AE%E6%B1%87%E6%80%BB%E5%85%A5%E5%8F%A3%22%5D%0A%20%20%20%20%20%20%20%20modules%20--%3E%20entry%0A%20%20%20%20%20%20%20%20types%20-.-%3E%20modules%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%E5%BC%95%E6%93%8E%E5%B1%82%5B%22%E2%9A%99%EF%B8%8F%20%E5%BC%95%E6%93%8E%E5%B1%82%20(tests%2F)%22%5D%0A%20%20%20%20%20%20%20%20spec%5B%22tdesign.spec.ts%3Cbr%2F%3E%E6%B5%8B%E8%AF%95%E5%BC%95%E6%93%8E%3Cbr%2F%3E%E8%87%AA%E5%8A%A8%E9%81%8D%E5%8E%86%E9%85%8D%E7%BD%AE%20%E2%86%92%20%E7%94%9F%E6%88%90%E7%94%A8%E4%BE%8B%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20%E5%B7%A5%E5%85%B7%E5%B1%82%5B%22%F0%9F%94%A7%20%E5%B7%A5%E5%85%B7%E5%B1%82%20(tests%2Futils%2F)%22%5D%0A%20%20%20%20%20%20%20%20helpers%5B%22helpers.ts%3Cbr%2F%3E%E7%99%BD%E5%B1%8F%E6%A3%80%E6%B5%8B%20%2F%20%E5%85%83%E7%B4%A0%E6%A3%80%E6%B5%8B%3Cbr%2F%3EShadow%20DOM%20%E7%A9%BF%E9%80%8F%3Cbr%2F%3E%E6%93%8D%E4%BD%9C%E6%89%A7%E8%A1%8C%E5%99%A8%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20CI%5B%22%F0%9F%9A%80%20CI%2FCD%22%5D%0A%20%20%20%20%20%20%20%20workflow%5B%22GitHub%20Actions%3Cbr%2F%3E%E5%AE%9A%E6%97%B6%20%2B%20Push%20%E8%A7%A6%E5%8F%91%22%5D%0A%20%20%20%20%20%20%20%20notify%5B%22scripts%2Fnotify.ts%3Cbr%2F%3E%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%9C%BA%E5%99%A8%E4%BA%BA%E9%80%9A%E7%9F%A5%22%5D%0A%20%20%20%20%20%20%20%20workflow%20--%3E%20notify%0A%20%20%20%20end%0A%0A%20%20%20%20entry%20--%3E%20spec%0A%20%20%20%20spec%20--%3E%20helpers%0A%20%20%20%20spec%20--%3E%20CI%0A"})]),fallback:t(()=>s[0]||(s[0]=[e(" Loading... ")])),_:1})),s[6]||(s[6]=o(`<h3 id="_2-1-配置层-声明式描述-测什么" tabindex="-1">2.1. 配置层：声明式描述&quot;测什么&quot; <a class="header-anchor" href="#_2-1-配置层-声明式描述-测什么" aria-label="Permalink to &quot;2.1. 配置层：声明式描述&quot;测什么&quot;&quot;">​</a></h3><p>配置层是用户唯一需要关注的部分。核心类型 <code>PageConfig</code> 定义了一个测试用例的完整描述：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PageConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;                </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 用例名称</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;                 </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 目标页面</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  whiteScreenCheck</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 是否白屏检测</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  expectedSelectors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 期望存在的元素</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  actions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PageAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 操作序列（点击/悬浮/导航/滚动/输入）</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  afterActionCheck</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AfterActionCheck</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 操作后校验</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  viewport</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 自定义视口</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  skip</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 跳过标记</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>使用者只需填写配置对象，<strong>不需要编写任何 <code>test()</code>、<code>expect()</code> 代码</strong>。框架会自动将每条配置映射为一个独立的 Jest 测试用例。</p><h3 id="_2-2-引擎层-自动化遍历-用例生成" tabindex="-1">2.2. 引擎层：自动化遍历 + 用例生成 <a class="header-anchor" href="#_2-2-引擎层-自动化遍历-用例生成" aria-label="Permalink to &quot;2.2. 引擎层：自动化遍历 + 用例生成&quot;">​</a></h3><p><code>tdesign.spec.ts</code> 是整个框架的&quot;心脏&quot;，核心逻辑仅约 120 行，但完成了以下工作：</p><ol><li><strong>启动浏览器</strong>：<code>beforeAll</code> 中初始化 Puppeteer，CI 环境自动切换 headless 模式</li><li><strong>遍历配置、生成用例</strong>：<code>for (const pageConfig of pagesConfig)</code> 循环，为每条配置动态生成 <code>test()</code></li><li><strong>标准化测试流程</strong>：每个用例按统一管线执行——设置视口 → 注册错误收集 → 访问页面 → 等待网络空闲 → 白屏检测 → 元素检测 → 执行操作 → 操作后校验</li><li><strong>资源管理</strong>：每个用例独立开启/关闭 Page，<code>afterAll</code> 中关闭浏览器，杜绝内存泄漏</li></ol><p>这种设计让引擎层成为&quot;不可变的骨架&quot;——<strong>新增测试用例永远不需要修改引擎代码</strong>。</p><h3 id="_2-3-工具层-对抗-web-components-的深度穿透" tabindex="-1">2.3. 工具层：对抗 Web Components 的深度穿透 <a class="header-anchor" href="#_2-3-工具层-对抗-web-components-的深度穿透" aria-label="Permalink to &quot;2.3. 工具层：对抗 Web Components 的深度穿透&quot;">​</a></h3><p>TDesign 官网大量使用了 Web Components + Shadow DOM（如 <code>&lt;td-header&gt;</code>、<code>&lt;td-doc-layout&gt;</code>），传统的 <code>document.querySelector</code> 无法穿透 Shadow DOM 边界。</p><p><code>helpers.ts</code> 中实现了一套 <strong>递归穿透 Shadow DOM 的选择器引擎</strong>，这是整个项目最有技术含量的部分：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>deepQuerySelector(page, selector)</span></span>
<span class="line"><span>│</span></span>
<span class="line"><span>├── 普通选择器 &quot;.TDesign-header&quot;</span></span>
<span class="line"><span>│   └── 递归遍历所有 ShadowRoot + Slot 分发内容</span></span>
<span class="line"><span>│</span></span>
<span class="line"><span>└── 穿透组合选择器 &quot;td-header &gt;&gt;&gt; .TDesign-header-nav&quot;</span></span>
<span class="line"><span>    └── 按 &quot;&gt;&gt;&gt;&quot; 分段，逐层进入 Shadow DOM</span></span></code></pre></div><p>此外，<code>waitForVisible()</code> 实现了轮询等待机制，不仅检查元素存在，还验证其真实可见性（<code>getBoundingClientRect</code> + <code>getComputedStyle</code>），避免 <code>display:none</code> 或零尺寸元素的误判。</p><p><strong>白屏检测</strong> 采用 4 层递进策略：</p><table tabindex="0"><thead><tr><th>层级</th><th>检测项</th><th>目的</th></tr></thead><tbody><tr><td>1</td><td><code>body.children.length &gt; 0</code></td><td>排除完全空白页</td></tr><tr><td>2</td><td><code>body.innerHTML.length &gt; 50</code></td><td>排除仅有空标签壳</td></tr><tr><td>3</td><td>递归穿透 Shadow DOM 找可见内容</td><td>排除 Web Components 内部白屏</td></tr><tr><td>4</td><td>检查 SPA 根挂载点 + 自定义元素</td><td>排除框架未挂载</td></tr></tbody></table><p>四层策略相互补充，既能检测传统 SPA 白屏，也能覆盖 Web Components 场景。</p><hr><h2 id="_3-灵活的配置方式" tabindex="-1">3. 灵活的配置方式 <a class="header-anchor" href="#_3-灵活的配置方式" aria-label="Permalink to &quot;3. 灵活的配置方式&quot;">​</a></h2><h3 id="_3-1-五种操作类型覆盖主流交互" tabindex="-1">3.1. 五种操作类型覆盖主流交互 <a class="header-anchor" href="#_3-1-五种操作类型覆盖主流交互" aria-label="Permalink to &quot;3.1. 五种操作类型覆盖主流交互&quot;">​</a></h3><p>框架内置了 5 种操作类型，通过组合使用可以模拟几乎所有用户交互场景：</p><table tabindex="0"><thead><tr><th>类型</th><th>用途</th><th>关键参数</th></tr></thead><tbody><tr><td><code>click</code></td><td>点击元素，支持自动等待导航</td><td><code>selector</code></td></tr><tr><td><code>hover</code></td><td>鼠标悬浮，验证浮层/下拉菜单</td><td><code>selector</code></td></tr><tr><td><code>navigate</code></td><td>SPA 路由跳转</td><td><code>targetUrl</code></td></tr><tr><td><code>scroll</code></td><td>页面滚动，测试懒加载</td><td><code>scrollY</code></td></tr><tr><td><code>input</code></td><td>文本输入，测试搜索/表单</td><td><code>selector</code> + <code>inputValue</code></td></tr></tbody></table><p>操作支持 <code>waitBefore</code> / <code>waitAfter</code> 精细控制时序，也支持链式组合——先滚动、再点击、再输入，一气呵成。</p><h3 id="_3-2-shadow-dom-穿透选择器" tabindex="-1">3.2. Shadow DOM 穿透选择器 <a class="header-anchor" href="#_3-2-shadow-dom-穿透选择器" aria-label="Permalink to &quot;3.2. Shadow DOM 穿透选择器&quot;">​</a></h3><p>针对 Web Components，框架设计了直观的 <code>&gt;&gt;&gt;</code> 穿透语法：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 先找到 &lt;td-header&gt;，进入其 Shadow DOM，再找 .TDesign-header-nav</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">selector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;td-header &gt;&gt;&gt; .TDesign-header-nav&#39;</span></span></code></pre></div><p>普通选择器则自动递归穿透所有层级的 Shadow DOM，开发者无需关心元素在哪一层。</p><h3 id="_3-3-操作后校验" tabindex="-1">3.3. 操作后校验 <a class="header-anchor" href="#_3-3-操作后校验" aria-label="Permalink to &quot;3.3. 操作后校验&quot;">​</a></h3><p>每条配置可以附带 <code>afterActionCheck</code>，在操作执行后自动验证：</p><ul><li><strong>白屏检测</strong>：操作后页面是否正常渲染</li><li><strong>元素检测</strong>：操作后目标元素是否出现</li><li><strong>URL 校验</strong>：通过正则匹配验证跳转是否正确</li></ul><hr><h2 id="_4-可扩展性设计" tabindex="-1">4. 可扩展性设计 <a class="header-anchor" href="#_4-可扩展性设计" aria-label="Permalink to &quot;4. 可扩展性设计&quot;">​</a></h2><h3 id="_4-1-模块化拆分" tabindex="-1">4.1. 模块化拆分 <a class="header-anchor" href="#_4-1-模块化拆分" aria-label="Permalink to &quot;4.1. 模块化拆分&quot;">​</a></h3><p>配置按 TDesign 子站拆分为独立模块，存放在 <code>tests/config/modules/</code> 目录下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>modules/</span></span>
<span class="line"><span>├── index.ts           ← 统一导出</span></span>
<span class="line"><span>├── home.ts            ← 官网首页</span></span>
<span class="line"><span>├── uniapp.ts          ← UniApp</span></span>
<span class="line"><span>├── miniprogram.ts     ← 小程序</span></span>
<span class="line"><span>├── vue-next.ts        ← Vue Next (桌面端)</span></span>
<span class="line"><span>└── mobile-vue.ts      ← Mobile Vue (移动端)</span></span></code></pre></div><p><code>pages.config.ts</code> 作为汇总入口，通过展开运算符合并所有模块：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PageConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">homePages,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">uniappPages,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">miniprogramPages,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vueNextPages,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mobileVuePages,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span></code></pre></div><h3 id="_4-2-新增模块只需-3-步" tabindex="-1">4.2. 新增模块只需 3 步 <a class="header-anchor" href="#_4-2-新增模块只需-3-步" aria-label="Permalink to &quot;4.2. 新增模块只需 3 步&quot;">​</a></h3><p>以新增 React 模块为例：</p><ol><li><strong>创建</strong> <code>modules/react.ts</code>，导出 <code>PageConfig[]</code> 数组</li><li><strong>注册</strong> 在 <code>modules/index.ts</code> 中添加一行 <code>export</code></li><li><strong>合并</strong> 在 <code>pages.config.ts</code> 中展开 <code>...reactPages</code></li></ol><p>整个过程不需要修改引擎代码、不需要新建测试文件、不需要改动 CI 配置。</p><h3 id="_4-3-新增操作类型" tabindex="-1">4.3. 新增操作类型 <a class="header-anchor" href="#_4-3-新增操作类型" aria-label="Permalink to &quot;4.3. 新增操作类型&quot;">​</a></h3><p>如果未来需要支持新的交互（如拖拽、长按），只需：</p><ol><li>在 <code>PageAction.type</code> 联合类型中新增枚举值</li><li>在 <code>helpers.ts</code> 的 <code>executeActions</code> 中新增 <code>case</code> 分支</li></ol><p>引擎层和配置层完全不受影响，体现了 <strong>开闭原则（OCP）</strong>。</p><hr><h2 id="_5-易维护性" tabindex="-1">5. 易维护性 <a class="header-anchor" href="#_5-易维护性" aria-label="Permalink to &quot;5. 易维护性&quot;">​</a></h2><h3 id="_5-1-typescript-全链路类型安全" tabindex="-1">5.1. TypeScript 全链路类型安全 <a class="header-anchor" href="#_5-1-typescript-全链路类型安全" aria-label="Permalink to &quot;5.1. TypeScript 全链路类型安全&quot;">​</a></h3><p>从配置定义到引擎消费，全程 TypeScript 强类型。<code>PageConfig</code> 接口确保：</p><ul><li>拼错字段名 → 编译报错</li><li>遗漏必填字段 → 编译报错</li><li><code>action.type</code> 传入未知值 → 编译报错</li></ul><p>类型系统充当了&quot;活文档&quot;，开发者阅读接口定义即可理解所有配置项。</p><h3 id="_5-2-配置与代码完全解耦" tabindex="-1">5.2. 配置与代码完全解耦 <a class="header-anchor" href="#_5-2-配置与代码完全解耦" aria-label="Permalink to &quot;5.2. 配置与代码完全解耦&quot;">​</a></h3><p>这是项目最核心的设计理念：<strong>测试逻辑是稳定的框架代码，测试内容是可变的配置数据</strong>。</p><ul><li>新增页面？→ 只改配置</li><li>页面改版？→ 只改选择器</li><li>新增检测维度？→ 只改工具函数</li></ul><p>三个变更方向互不干扰，团队中不同角色可以并行工作。</p><h3 id="_5-3-自动化-ci-cd-告警闭环" tabindex="-1">5.3. 自动化 CI/CD + 告警闭环 <a class="header-anchor" href="#_5-3-自动化-ci-cd-告警闭环" aria-label="Permalink to &quot;5.3. 自动化 CI/CD + 告警闭环&quot;">​</a></h3><p>项目集成了 <a href="https://github.com/TDesignOteam/tdesign-e2e-test/actions" target="_blank" rel="noreferrer">GitHub Actions 工作流</a>，实现了完整的自动化闭环：</p>`,56)),(a(),n(A,null,{default:t(()=>[l(i,{id:"mermaid-382",class:"mermaid my-mermaid-class",graph:"graph%20LR%0A%20%20%20%20A%5B%22%E2%8F%B0%20%E5%AE%9A%E6%97%B6%E8%A7%A6%E5%8F%91%3Cbr%2F%3E%E6%AF%8F%2010%20%E5%88%86%E9%92%9F%22%5D%20--%3E%20B%5B%22%F0%9F%A7%AA%20%E6%89%A7%E8%A1%8C%20E2E%20%E6%B5%8B%E8%AF%95%22%5D%0A%20%20%20%20C%5B%22%F0%9F%93%A6%20master%20Push%22%5D%20--%3E%20B%0A%20%20%20%20D%5B%22%F0%9F%96%B1%EF%B8%8F%20%E6%89%8B%E5%8A%A8%E8%A7%A6%E5%8F%91%22%5D%20--%3E%20B%0A%20%20%20%20B%20--%3E%7C%E9%80%9A%E8%BF%87%7C%20E%5B%22%E2%9C%85%20%E4%B8%8A%E4%BC%A0%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A%22%5D%0A%20%20%20%20B%20--%3E%7C%E5%A4%B1%E8%B4%A5%7C%20F%5B%22%F0%9F%93%A4%20%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E9%80%9A%E7%9F%A5%3Cbr%2F%3E%E5%A4%B1%E8%B4%A5%E7%94%A8%E4%BE%8B%20%2B%20Actions%20%E9%93%BE%E6%8E%A5%22%5D%0A%20%20%20%20F%20--%3E%20E%0A"})]),fallback:t(()=>s[1]||(s[1]=[e(" Loading... ")])),_:1})),s[7]||(s[7]=o('<p><code>notify.ts</code> 通知脚本会自动解析 Jest JSON 输出，提取失败用例的名称和错误信息，格式化为 Markdown 消息推送到企业微信，包含直达 Actions 日志的链接。</p><h3 id="_5-4-容错设计" tabindex="-1">5.4. 容错设计 <a class="header-anchor" href="#_5-4-容错设计" aria-label="Permalink to &quot;5.4. 容错设计&quot;">​</a></h3><p>框架在多处做了容错处理，保证单个用例失败不会拖垮整个测试：</p><ul><li><code>networkIdle</code> 超时不阻塞测试（<code>.catch(() =&gt; {})</code>）</li><li>导航超时静默处理（适应 SPA 无导航场景）</li><li>每个用例独立开启/关闭 Page，<code>finally</code> 块确保资源释放</li><li>控制台错误仅记录告警，不直接判定失败</li><li><code>skip</code> 标记支持临时跳过不稳定用例</li></ul><hr><h2 id="_6-🔍-核心检测流程" tabindex="-1">6. 🔍 核心检测流程 <a class="header-anchor" href="#_6-🔍-核心检测流程" aria-label="Permalink to &quot;6. 🔍 核心检测流程&quot;">​</a></h2><h3 id="_6-1-白屏检测流程" tabindex="-1">6.1. 白屏检测流程 <a class="header-anchor" href="#_6-1-白屏检测流程" aria-label="Permalink to &quot;6.1. 白屏检测流程&quot;">​</a></h3><p>白屏检测通过 4 层递进策略判断页面是否正常渲染，任一层检测失败即判定为白屏：</p>',8)),(a(),n(A,null,{default:t(()=>[l(i,{id:"mermaid-429",class:"mermaid my-mermaid-class",graph:"flowchart%20TD%0A%20%20%20%20Start(%5B%22%E5%BC%80%E5%A7%8B%E7%99%BD%E5%B1%8F%E6%A3%80%E6%B5%8B%22%5D)%20--%3E%20Step1%7B%221%EF%B8%8F%E2%83%A3%20body.children.length%20%3E%200%EF%BC%9F%22%7D%0A%0A%20%20%20%20Step1%20--%3E%7C%E2%9D%8C%20%E6%97%A0%E5%AD%90%E5%85%83%E7%B4%A0%7C%20Fail1%5B%22%E2%9D%8C%20%E5%88%A4%E5%AE%9A%E7%99%BD%E5%B1%8F%3Cbr%3E%E9%A1%B5%E9%9D%A2%20body%20%E6%B2%A1%E6%9C%89%E5%AD%90%E5%85%83%E7%B4%A0%22%5D%0A%20%20%20%20Step1%20--%3E%7C%E2%9C%85%20%E6%9C%89%E5%AD%90%E5%85%83%E7%B4%A0%7C%20Step2%7B%222%EF%B8%8F%E2%83%A3%20body.innerHTML.length%20%3E%2050%EF%BC%9F%22%7D%0A%0A%20%20%20%20Step2%20--%3E%7C%E2%9D%8C%20%E5%86%85%E5%AE%B9%E8%BF%87%E7%9F%AD%7C%20Fail2%5B%22%E2%9D%8C%20%E5%88%A4%E5%AE%9A%E7%99%BD%E5%B1%8F%3Cbr%3E%E9%A1%B5%E9%9D%A2%E5%86%85%E5%AE%B9%E9%95%BF%E5%BA%A6%E8%BF%87%E7%9F%AD%22%5D%0A%20%20%20%20Step2%20--%3E%7C%E2%9C%85%20%E5%86%85%E5%AE%B9%E5%85%85%E8%B6%B3%7C%20Step3%7B%223%EF%B8%8F%E2%83%A3%20%E5%AD%98%E5%9C%A8%E5%8F%AF%E8%A7%81%E5%86%85%E5%AE%B9%EF%BC%9F%3Cbr%3E%E9%80%92%E5%BD%92%E7%A9%BF%E9%80%8F%20Shadow%20DOM%20%E6%A3%80%E6%9F%A5%EF%BC%9A%3Cbr%3E%E6%96%87%E5%AD%97%20%2F%20%E5%9B%BE%E7%89%87%20%2F%20canvas%20%2F%20svg%20%2F%20video%22%7D%0A%0A%20%20%20%20Step3%20--%3E%7C%E2%9D%8C%20%E6%97%A0%E5%8F%AF%E8%A7%81%E5%86%85%E5%AE%B9%7C%20Fail3%5B%22%E2%9D%8C%20%E5%88%A4%E5%AE%9A%E7%99%BD%E5%B1%8F%3Cbr%3E%E9%A1%B5%E9%9D%A2%E6%B2%A1%E6%9C%89%E5%8F%AF%E8%A7%81%E5%86%85%E5%AE%B9%22%5D%0A%20%20%20%20Step3%20--%3E%7C%E2%9C%85%20%E6%9C%89%E5%8F%AF%E8%A7%81%E5%86%85%E5%AE%B9%7C%20Step4%7B%224%EF%B8%8F%E2%83%A3%20%E5%AD%98%E5%9C%A8%E5%BA%94%E7%94%A8%E6%A0%B9%E6%8C%82%E8%BD%BD%E7%82%B9%EF%BC%9F%3Cbr%3E%23app%20%2F%20%23root%20%2F%20%23__nuxt%20%2F%20%23__next%3Cbr%3E%E6%88%96%20Web%20Components%20%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%83%E7%B4%A0%22%7D%0A%0A%20%20%20%20Step4%20--%3E%7C%E2%9D%8C%20%E6%97%A0%E6%8C%82%E8%BD%BD%E7%82%B9%7C%20Fail4%5B%22%E2%9D%8C%20%E5%88%A4%E5%AE%9A%E7%99%BD%E5%B1%8F%3Cbr%3E%E6%89%BE%E4%B8%8D%E5%88%B0%E5%BA%94%E7%94%A8%E6%A0%B9%E6%8C%82%E8%BD%BD%E7%82%B9%22%5D%0A%20%20%20%20Step4%20--%3E%7C%E2%9C%85%20%E6%9C%89%E6%8C%82%E8%BD%BD%E7%82%B9%7C%20Pass(%5B%22%E2%9C%85%20%E7%99%BD%E5%B1%8F%E6%A3%80%E6%B5%8B%E9%80%9A%E8%BF%87%22%5D)%0A%0A%20%20%20%20style%20Fail1%20fill%3A%23ffcccc%2Cstroke%3A%23cc0000%0A%20%20%20%20style%20Fail2%20fill%3A%23ffcccc%2Cstroke%3A%23cc0000%0A%20%20%20%20style%20Fail3%20fill%3A%23ffcccc%2Cstroke%3A%23cc0000%0A%20%20%20%20style%20Fail4%20fill%3A%23ffcccc%2Cstroke%3A%23cc0000%0A%20%20%20%20style%20Pass%20fill%3A%23ccffcc%2Cstroke%3A%23009900%0A"})]),fallback:t(()=>s[2]||(s[2]=[e(" Loading... ")])),_:1})),s[8]||(s[8]=E("h3",{id:"_6-2-元素丢失检测流程",tabindex:"-1"},[e("6.2. 元素丢失检测流程 "),E("a",{class:"header-anchor",href:"#_6-2-元素丢失检测流程","aria-label":'Permalink to "6.2. 元素丢失检测流程"'},"​")],-1)),s[9]||(s[9]=E("p",null,"元素检测支持 Shadow DOM 穿透查找，通过轮询等待机制确保元素可见：",-1)),(a(),n(A,null,{default:t(()=>[l(i,{id:"mermaid-436",class:"mermaid my-mermaid-class",graph:"flowchart%20TD%0A%20%20%20%20Start(%5B%22%E5%BC%80%E5%A7%8B%E5%85%83%E7%B4%A0%E4%B8%A2%E5%A4%B1%E6%A3%80%E6%B5%8B%3Cbr%3EexpectedSelectors%20%E5%88%97%E8%A1%A8%22%5D)%20--%3E%20Loop%7B%22%E9%81%8D%E5%8E%86%E6%AF%8F%E4%B8%AA%20selector%22%7D%0A%0A%20%20%20%20Loop%20--%3E%20WaitVisible%5B%22waitForVisible%3Cbr%3E%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4%EF%BC%9A10s%EF%BC%8C%E8%BD%AE%E8%AF%A2%E9%97%B4%E9%9A%94%EF%BC%9A300ms%22%5D%0A%0A%20%20%20%20WaitVisible%20--%3E%20DeepQuery%5B%22deepQuerySelector%3Cbr%3E%E9%80%92%E5%BD%92%E7%A9%BF%E9%80%8F%20Shadow%20DOM%20%E6%9F%A5%E6%89%BE%E5%85%83%E7%B4%A0%22%5D%0A%0A%20%20%20%20DeepQuery%20--%3E%20Found%7B%22%E5%85%83%E7%B4%A0%E5%AD%98%E5%9C%A8%EF%BC%9F%22%7D%0A%20%20%20%20Found%20--%3E%7C%E2%9D%8C%20%E6%9C%AA%E6%89%BE%E5%88%B0%7C%20Retry%7B%22%E6%98%AF%E5%90%A6%E8%B6%85%E6%97%B6%EF%BC%9F%22%7D%0A%20%20%20%20Retry%20--%3E%7C%E6%9C%AA%E8%B6%85%E6%97%B6%7C%20Sleep%5B%22%E7%AD%89%E5%BE%85%20300ms%22%5D%20--%3E%20DeepQuery%0A%20%20%20%20Retry%20--%3E%7C%E5%B7%B2%E8%B6%85%E6%97%B6%2010s%7C%20Fail%5B%22%E2%9D%8C%20%E6%A3%80%E6%B5%8B%E5%A4%B1%E8%B4%A5%3Cbr%3E%E6%9C%9F%E6%9C%9B%E5%85%83%E7%B4%A0%E4%B8%8D%E5%AD%98%E5%9C%A8%E6%88%96%E4%B8%8D%E5%8F%AF%E8%A7%81%22%5D%0A%0A%20%20%20%20Found%20--%3E%7C%E2%9C%85%20%E6%89%BE%E5%88%B0%7C%20CheckVisible%7B%22%E5%85%83%E7%B4%A0%E5%8F%AF%E8%A7%81%EF%BC%9F%3Cbr%3Erect.width%20%3E%200%3Cbr%3Erect.height%20%3E%200%3Cbr%3Evisibility%20%E2%89%A0%20hidden%3Cbr%3Edisplay%20%E2%89%A0%20none%3Cbr%3Eopacity%20%E2%89%A0%200%22%7D%0A%0A%20%20%20%20CheckVisible%20--%3E%7C%E2%9D%8C%20%E4%B8%8D%E5%8F%AF%E8%A7%81%7C%20Retry%0A%20%20%20%20CheckVisible%20--%3E%7C%E2%9C%85%20%E5%8F%AF%E8%A7%81%7C%20Next%7B%22%E8%BF%98%E6%9C%89%E4%B8%8B%E4%B8%80%E4%B8%AA%20selector%EF%BC%9F%22%7D%0A%0A%20%20%20%20Next%20--%3E%7C%E6%98%AF%7C%20Loop%0A%20%20%20%20Next%20--%3E%7C%E5%90%A6%7C%20Pass(%5B%22%E2%9C%85%20%E6%89%80%E6%9C%89%E5%85%83%E7%B4%A0%E6%A3%80%E6%B5%8B%E9%80%9A%E8%BF%87%22%5D)%0A%0A%20%20%20%20style%20Fail%20fill%3A%23ffcccc%2Cstroke%3A%23cc0000%0A%20%20%20%20style%20Pass%20fill%3A%23ccffcc%2Cstroke%3A%23009900%0A"})]),fallback:t(()=>s[3]||(s[3]=[e(" Loading... ")])),_:1})),s[10]||(s[10]=E("h3",{id:"_6-3-执行操作序列流程",tabindex:"-1"},[e("6.3. 执行操作序列流程 "),E("a",{class:"header-anchor",href:"#_6-3-执行操作序列流程","aria-label":'Permalink to "6.3. 执行操作序列流程"'},"​")],-1)),s[11]||(s[11]=E("p",null,"操作序列按配置顺序逐一执行，支持 5 种操作类型和时序控制：",-1)),(a(),n(A,null,{default:t(()=>[l(i,{id:"mermaid-443",class:"mermaid my-mermaid-class",graph:"flowchart%20TD%0A%20%20%20%20Start(%5B%22%E5%BC%80%E5%A7%8B%E6%89%A7%E8%A1%8C%E6%93%8D%E4%BD%9C%E5%BA%8F%E5%88%97%3Cbr%3Eactions%20%E5%88%97%E8%A1%A8%22%5D)%20--%3E%20Loop%7B%22%E9%81%8D%E5%8E%86%E6%AF%8F%E4%B8%AA%20action%22%7D%0A%0A%20%20%20%20Loop%20--%3E%20WaitBefore%7B%22waitBefore%20%3E%200%EF%BC%9F%22%7D%0A%20%20%20%20WaitBefore%20--%3E%7C%E6%98%AF%7C%20DelayBefore%5B%22%E2%8F%B3%20%E7%AD%89%E5%BE%85%20waitBefore%20%E6%AF%AB%E7%A7%92%22%5D%20--%3E%20Switch%0A%20%20%20%20WaitBefore%20--%3E%7C%E5%90%A6%7C%20Switch%0A%0A%20%20%20%20Switch%7B%22action.type%22%7D%20--%3E%7Cclick%7C%20Click%0A%20%20%20%20Switch%20--%3E%7Chover%7C%20Hover%0A%20%20%20%20Switch%20--%3E%7Cnavigate%7C%20Navigate%0A%20%20%20%20Switch%20--%3E%7Cscroll%7C%20Scroll%0A%20%20%20%20Switch%20--%3E%7Cinput%7C%20Input%0A%0A%20%20%20%20subgraph%20Click%20%5B%22%F0%9F%96%B1%EF%B8%8F%20click%20%E6%93%8D%E4%BD%9C%22%5D%0A%20%20%20%20%20%20%20%20C1%5B%22waitForVisible%20%E7%AD%89%E5%BE%85%E5%85%83%E7%B4%A0%E5%8F%AF%E8%A7%81%22%5D%20--%3E%20C2%5B%22deepQuerySelector%20%E7%A9%BF%E9%80%8F%E6%9F%A5%E6%89%BE%22%5D%0A%20%20%20%20%20%20%20%20C2%20--%3E%20C3%5B%22scrollIntoView%20%E6%BB%9A%E5%8A%A8%E5%88%B0%E8%A7%86%E5%8F%A3%22%5D%0A%20%20%20%20%20%20%20%20C3%20--%3E%20C4%5B%22%E8%AE%A1%E7%AE%97%E5%85%83%E7%B4%A0%E4%B8%AD%E5%BF%83%E5%9D%90%E6%A0%87%22%5D%0A%20%20%20%20%20%20%20%20C4%20--%3E%20C5%5B%22page.mouse.click%20%E7%9C%9F%E5%AE%9E%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%22%5D%0A%20%20%20%20%20%20%20%20C5%20--%3E%20C6%7B%22%E6%98%AF%20a%20%E6%A0%87%E7%AD%BE%20%2F%20%E6%9C%89%20href%EF%BC%9F%22%7D%0A%20%20%20%20%20%20%20%20C6%20--%3E%7C%E6%98%AF%7C%20C7%5B%22%E7%AD%89%E5%BE%85%E5%AF%BC%E8%88%AA%E5%AE%8C%E6%88%90%20%2B%20%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B2%22%5D%0A%20%20%20%20%20%20%20%20C6%20--%3E%7C%E5%90%A6%7C%20C8%5B%22%E7%AD%89%E5%BE%85%201s%20%E6%B8%B2%E6%9F%93%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Hover%20%5B%22%F0%9F%8E%AF%20hover%20%E6%93%8D%E4%BD%9C%22%5D%0A%20%20%20%20%20%20%20%20H1%5B%22waitForVisible%20%E7%AD%89%E5%BE%85%E5%85%83%E7%B4%A0%E5%8F%AF%E8%A7%81%22%5D%20--%3E%20H2%5B%22deepQuerySelector%20%E7%A9%BF%E9%80%8F%E6%9F%A5%E6%89%BE%22%5D%0A%20%20%20%20%20%20%20%20H2%20--%3E%20H3%5B%22%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0%E4%B8%AD%E5%BF%83%E5%9D%90%E6%A0%87%22%5D%0A%20%20%20%20%20%20%20%20H3%20--%3E%20H4%5B%22page.mouse.move%20%E7%A7%BB%E5%8A%A8%E9%BC%A0%E6%A0%87%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Navigate%20%5B%22%F0%9F%94%80%20navigate%20%E6%93%8D%E4%BD%9C%22%5D%0A%20%20%20%20%20%20%20%20N1%5B%22page.goto%20targetUrl%22%5D%0A%20%20%20%20%20%20%20%20N1%20--%3E%20N2%5B%22%E7%AD%89%E5%BE%85%20domcontentloaded%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Scroll%20%5B%22%F0%9F%93%9C%20scroll%20%E6%93%8D%E4%BD%9C%22%5D%0A%20%20%20%20%20%20%20%20S1%5B%22window.scrollBy%3Cbr%3E%E6%BB%9A%E5%8A%A8%20scrollY%20%E5%83%8F%E7%B4%A0%EF%BC%88%E9%BB%98%E8%AE%A4%20500%EF%BC%89%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Input%20%5B%22%E2%8C%A8%EF%B8%8F%20input%20%E6%93%8D%E4%BD%9C%22%5D%0A%20%20%20%20%20%20%20%20I1%5B%22waitForVisible%20%E7%AD%89%E5%BE%85%E5%85%83%E7%B4%A0%E5%8F%AF%E8%A7%81%22%5D%20--%3E%20I2%5B%22deepQuerySelector%20%E7%A9%BF%E9%80%8F%E6%9F%A5%E6%89%BE%22%5D%0A%20%20%20%20%20%20%20%20I2%20--%3E%20I3%5B%22focus%20%E8%81%9A%E7%84%A6%20%2B%20%E6%B8%85%E7%A9%BA%E5%86%85%E5%AE%B9%22%5D%0A%20%20%20%20%20%20%20%20I3%20--%3E%20I4%5B%22page.keyboard.type%20%E9%80%90%E5%AD%97%E8%BE%93%E5%85%A5%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20C7%20--%3E%20WaitAfter%0A%20%20%20%20C8%20--%3E%20WaitAfter%0A%20%20%20%20H4%20--%3E%20WaitAfter%0A%20%20%20%20N2%20--%3E%20WaitAfter%0A%20%20%20%20S1%20--%3E%20WaitAfter%0A%20%20%20%20I4%20--%3E%20WaitAfter%0A%0A%20%20%20%20WaitAfter%7B%22waitAfter%20%3E%200%EF%BC%9F%22%7D%0A%20%20%20%20WaitAfter%20--%3E%7C%E6%98%AF%7C%20DelayAfter%5B%22%E2%8F%B3%20%E7%AD%89%E5%BE%85%20waitAfter%20%E6%AF%AB%E7%A7%92%22%5D%20--%3E%20Next%0A%20%20%20%20WaitAfter%20--%3E%7C%E5%90%A6%7C%20Next%0A%0A%20%20%20%20Next%7B%22%E8%BF%98%E6%9C%89%E4%B8%8B%E4%B8%80%E4%B8%AA%20action%EF%BC%9F%22%7D%0A%20%20%20%20Next%20--%3E%7C%E6%98%AF%7C%20Loop%0A%20%20%20%20Next%20--%3E%7C%E5%90%A6%7C%20CheckAfter%7B%22afterActionCheck%EF%BC%9F%22%7D%0A%0A%20%20%20%20CheckAfter%20--%3E%7C%E6%98%AF%7C%20AfterCheck%0A%20%20%20%20CheckAfter%20--%3E%7C%E5%90%A6%7C%20Pass(%5B%22%E2%9C%85%20%E6%93%8D%E4%BD%9C%E5%BA%8F%E5%88%97%E6%89%A7%E8%A1%8C%E5%AE%8C%E6%AF%95%22%5D)%0A%0A%20%20%20%20subgraph%20AfterCheck%20%5B%22%F0%9F%94%8D%20%E6%93%8D%E4%BD%9C%E5%90%8E%E6%A3%80%E6%9F%A5%22%5D%0A%20%20%20%20%20%20%20%20AC1%7B%22whiteScreenCheck%EF%BC%9F%22%7D%20--%3E%7C%E6%98%AF%7C%20AC2%5B%22%E6%89%A7%E8%A1%8C%E7%99%BD%E5%B1%8F%E6%A3%80%E6%B5%8B%22%5D%0A%20%20%20%20%20%20%20%20AC1%20--%3E%7C%E5%90%A6%7C%20AC3%0A%20%20%20%20%20%20%20%20AC2%20--%3E%20AC3%7B%22expectedSelectors%EF%BC%9F%22%7D%0A%20%20%20%20%20%20%20%20AC3%20--%3E%7C%E6%98%AF%7C%20AC4%5B%22%E6%89%A7%E8%A1%8C%E5%85%83%E7%B4%A0%E4%B8%A2%E5%A4%B1%E6%A3%80%E6%B5%8B%22%5D%0A%20%20%20%20%20%20%20%20AC3%20--%3E%7C%E5%90%A6%7C%20AC5%0A%20%20%20%20%20%20%20%20AC4%20--%3E%20AC5%7B%22expectedUrlPattern%EF%BC%9F%22%7D%0A%20%20%20%20%20%20%20%20AC5%20--%3E%7C%E6%98%AF%7C%20AC6%5B%22%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E5%BD%93%E5%89%8D%20URL%22%5D%0A%20%20%20%20%20%20%20%20AC5%20--%3E%7C%E5%90%A6%7C%20AC7(%5B%22%E2%9C%85%20%E6%93%8D%E4%BD%9C%E5%90%8E%E6%A3%80%E6%9F%A5%E9%80%9A%E8%BF%87%22%5D)%0A%20%20%20%20%20%20%20%20AC6%20--%3E%20AC7%0A%20%20%20%20end%0A%0A%20%20%20%20style%20Pass%20fill%3A%23ccffcc%2Cstroke%3A%23009900%0A"})]),fallback:t(()=>s[4]||(s[4]=[e(" Loading... ")])),_:1})),s[12]||(s[12]=o('<h2 id="_7-技术亮点总结" tabindex="-1">7. 技术亮点总结 <a class="header-anchor" href="#_7-技术亮点总结" aria-label="Permalink to &quot;7. 技术亮点总结&quot;">​</a></h2><table tabindex="0"><thead><tr><th>亮点</th><th>说明</th></tr></thead><tbody><tr><td><strong>配置驱动，零代码测试</strong></td><td>使用者只写配置对象，框架自动生成测试用例</td></tr><tr><td><strong>Shadow DOM 深度穿透</strong></td><td>递归遍历 + <code>&gt;&gt;&gt;</code> 穿透语法，完美适配 Web Components</td></tr><tr><td><strong>4 层白屏检测策略</strong></td><td>DOM 结构 + 内容长度 + 可见性 + SPA 挂载点，多维度交叉验证</td></tr><tr><td><strong>模块化配置架构</strong></td><td>按子站拆分，新增模块 3 步完成，零耦合</td></tr><tr><td><strong>全链路 TypeScript</strong></td><td>配置到执行全程类型安全，拼错即报错</td></tr><tr><td><strong>自动化告警闭环</strong></td><td>定时巡检 → 失败检测 → 企业微信推送 → Actions 日志溯源</td></tr><tr><td><strong>容错隔离设计</strong></td><td>单用例失败不扩散，资源自动回收，超时静默降级</td></tr></tbody></table><hr><h2 id="_8-适用场景" tabindex="-1">8. 适用场景 <a class="header-anchor" href="#_8-适用场景" aria-label="Permalink to &quot;8. 适用场景&quot;">​</a></h2><ul><li><strong>组件库官网巡检</strong>：防止发布后白屏、关键文档元素丢失</li><li><strong>多框架站点监控</strong>：一套框架覆盖 Vue / UniApp / 小程序 / 移动端等所有子站</li><li><strong>Web Components 场景</strong>：内置 Shadow DOM 穿透，开箱即用</li><li><strong>团队协作</strong>：配置与代码分离，产品/QA 也能编写测试配置</li></ul><p>这套框架的设计哲学是：<strong>把测试的复杂性封装进框架，把测试的简单性交还给用户</strong>。开发者只需要回答&quot;测哪个页面、检查什么元素、执行什么操作&quot;，剩下的一切——浏览器管理、Shadow DOM 穿透、白屏判定、CI 调度、失败告警——全部由框架接管。</p>',6))])}const b=r(h,[["render",B]]);export{u as __pageData,b as default};
