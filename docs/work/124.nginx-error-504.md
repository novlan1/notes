:::info 作者

novlan1

2026.1.13
:::

# Nginx 报错

记一次子工程名称不合法导致的 `nginx` 报错，进而导致的 504。

## 原因

有人新建子工程时，没去掉空格，导致 `nginx` 解析失败，进而导致整个域名下的所有工程都 504。

<img src="https://cdn.uwayfly.com/article/2026/1/own_mike_btD2Jwdj5F8Ra6jd.png" width="500" />

<img src="https://cdn.uwayfly.com/article/2026/1/own_mike_CnCTzCyHD3RE8n5G.png" width="600" />

<img src="https://cdn.uwayfly.com/article/2026/1/own_mike_STAD2CNn6ynaBdb7.png" width="600" />

## 解决

1. 清理脏数据
2. 校验合法子工程名，只允许字母、数字、下划线、中划线
