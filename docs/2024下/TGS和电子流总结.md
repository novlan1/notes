### 开始

TGS 和电子流项目都进行了重构，同步下设计原则、当前规范等。

### 理解TGS和电子流

TGS 和电子流都是管理端，二者有以下不同：

| 系统       | TGS                              | 电子流                                           |
| ---------- | -------------------------------- | ------------------------------------------------ |
| 用户群体   | 偏内部                           | 偏外部                                           |
| 设计规范   | 基本无，开发者自行堆砌组件库即可 | 有，需遵循                                       |
| 变更频率   | 频繁                             | 较少                                             |
| 项目间差异 | 差异较大，多个页面需定制         | 差异较小，多数情况下改下主题图、样式、`gid` 即可 |

### 模板建设

基于以上不同，TGS 和电子流模板设计也有所不同：

- 模板代码量上，TGS 较少，电子流较多
- 接入一个新项目，TGS 用户较多，电子流分分钟接入

### 电子流优化

无畏契约电子流从旧项目改造，并改了部分接口，以及优化了以下部分。

| 旧                                                                          | 新                                                                                  |
| --------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- |
| 目录结构极为混乱，组件、逻辑放的到处都是                                    | 公共逻辑或组件放到 `local-component/logic`，非共用的放到子工程 `component/logic` 下 |
| 命名不统一，文件、目录有 `pascal`、也有 `kebab`                             | 文件、目录统一为 `kebab`                                                            |
| 引用混乱，子工程间相互引用，非共用的也写在外部，外层引用内层                | 规范引用关系，子工程间不可引用，非共用的写在子工程内，禁止反向依赖                  |
| 过度封装路由跳转，更引入了 `mixin`，开发调试困难，来回跳跃                  | 删除 `mixin`、`jump`，跳转逻辑直接写在组件、页面中，简单、清晰、易维护              |
| 全是 `js`，没有 `ts`，缺失类型提示、类型校验                                | `js` 全部改成 `ts`，补充类型，增强健壮性                                            |
| 组件库乱用，PC 也用 Vant，H5 也用 Element                                   | PC 统一用 Element，H5 统一用 Vant（这里不用 Press UI 是为了业务快速升级）           |
| 组件从 `index.js` 额外导出，冗余                                            | 删掉多余的 `index.js`，直接引入 Vue 文件                                            |
| 全是魔法字符串，如 gid、orgId、roleId 等                                    | 全部改成统一的配置文件引入                                                          |
| 组件与样式位置分散，难以维护                                                | 样式就近放置在组件旁                                                                |
| 大量 `typo` 拼写错误，有些甚至表现在 `url` 上，如 `/apply/authentification` | 改成正确的，避免低级错误                                                            |
| 导出用大对象，不利于 `tree-shaking`                                         | 分方法导出，避免大对象                                                              |

